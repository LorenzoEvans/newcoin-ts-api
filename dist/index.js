/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/actions.ts":
/*!************************!*\
  !*** ./src/actions.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ActionGenerator = void 0;\r\nclass ActionGenerator {\r\n    constructor(contract, token_contract) {\r\n        this.contract = contract;\r\n        this.token_contract = token_contract;\r\n        this.newaccount = (new_name, payer, newacc_public_active_key, newacc_public_owner_key) => ({\r\n            account: 'eosio',\r\n            name: 'newaccount',\r\n            authorization: [{\r\n                    actor: payer,\r\n                    permission: 'active',\r\n                }],\r\n            data: {\r\n                creator: payer,\r\n                name: new_name,\r\n                owner: {\r\n                    threshold: 1,\r\n                    keys: [{\r\n                            key: newacc_public_owner_key,\r\n                            weight: 1\r\n                        }],\r\n                    accounts: [],\r\n                    waits: []\r\n                },\r\n                active: {\r\n                    threshold: 1,\r\n                    keys: [{\r\n                            key: newacc_public_active_key,\r\n                            weight: 1\r\n                        }],\r\n                    accounts: [],\r\n                    waits: []\r\n                },\r\n            }\r\n        });\r\n        this.buyrambytes = (receiver, payer = 'io', amt = 8192) => ({\r\n            account: 'eosio',\r\n            name: 'buyrambytes',\r\n            authorization: [{ actor: payer, permission: 'active' }],\r\n            data: {\r\n                payer: payer,\r\n                receiver: receiver,\r\n                bytes: amt,\r\n            },\r\n        });\r\n        this.delegateBw = (receiver, payer = 'io', net_amount = '100.0000 NCO', cpu_amount = '100.0000 NCO', trfer = true) => ({\r\n            account: 'eosio',\r\n            name: 'delegatebw',\r\n            authorization: [{\r\n                    actor: payer,\r\n                    permission: 'active',\r\n                }],\r\n            data: {\r\n                from: payer,\r\n                receiver: receiver,\r\n                stake_net_quantity: net_amount,\r\n                stake_cpu_quantity: cpu_amount,\r\n                transfer: trfer,\r\n            }\r\n        });\r\n        /*createUser = async (\r\n          newUser: string,\r\n          payer: string,\r\n          public_active_key: string,\r\n          public_owner_key: string\r\n        ) => {\r\n        \r\n          let newacc_action = this._newaccount(newUser, payer, public_active_key, public_owner_key);\r\n          let buyram_action = this._buyrambytes(newUser, payer);\r\n          let delegatebw_action = this._delegateBw(newUser, payer);\r\n        \r\n          return [newacc_action, buyram_action, delegatebw_action]\r\n        };\r\n        \r\n        createAccount(\r\n          authorization: EosioAuthorizationObject[],\r\n          owner: string,\r\n          symbol: string,\r\n          payer: string\r\n        ) {\r\n          return this._pack(this.contract, authorization, \"open\", {\r\n            owner,\r\n            symbol,\r\n            payer\r\n          });\r\n        }*/\r\n        this.createCollection = (author, collection_name, authorized_accounts, notify_accounts = [], market_fee, allow_notify) => {\r\n            const action = {\r\n                account: 'atomicassets',\r\n                name: 'createcol',\r\n                data: {\r\n                    author: author,\r\n                    collection_name: collection_name,\r\n                    allow_notify: allow_notify,\r\n                    authorized_accounts: authorized_accounts,\r\n                    notify_accounts: notify_accounts,\r\n                    market_fee: market_fee,\r\n                    data: []\r\n                },\r\n                authorization: [\r\n                    { actor: author, permission: 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n        this.createSchema = (author, payer, collection_name, schema_name, sch) => {\r\n            const action = {\r\n                account: 'atomicassets',\r\n                name: 'createschema',\r\n                data: {\r\n                    authorized_creator: author,\r\n                    collection_name: collection_name,\r\n                    schema_name: schema_name,\r\n                    schema_format: sch\r\n                },\r\n                authorization: [\r\n                    { actor: author, permission: 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n        this.createTemplate = (author, collection_name, schema_name, xferable, burnable, max_supply, template_fields) => {\r\n            const action = {\r\n                account: 'atomicassets',\r\n                name: 'createtempl',\r\n                data: {\r\n                    authorized_creator: author,\r\n                    collection_name: collection_name,\r\n                    schema_name: schema_name,\r\n                    transferable: xferable,\r\n                    burnable: burnable,\r\n                    max_supply: 0xffffff,\r\n                    immutable_data: template_fields //{key: 'name', value: ['string', 'default'] } ]\r\n                },\r\n                authorization: [\r\n                    { actor: author, permission: 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n        this.createPermission = (author, perm_name, perm_key) => {\r\n            const authorization_object = {\r\n                threshold: 1,\r\n                accounts: [{ permission: { actor: author, permission: 'active' }, weight: 1 }],\r\n                keys: [{ key: perm_key, weight: 1 }],\r\n                waits: []\r\n            };\r\n            const updateauth_input = {\r\n                account: author,\r\n                permission: perm_name,\r\n                parent: 'active',\r\n                auth: authorization_object\r\n            };\r\n            const action = {\r\n                account: 'eosio',\r\n                name: 'updateauth',\r\n                data: updateauth_input,\r\n                authorization: [\r\n                    { actor: author, permission: 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n        this.mintAsset = (author, payer, col_name, sch_name, tmpl_id, immutable_data, mutable_data) => {\r\n            const action = {\r\n                account: 'atomicassets',\r\n                name: 'mintasset',\r\n                data: {\r\n                    authorized_minter: author,\r\n                    collection_name: col_name,\r\n                    schema_name: sch_name,\r\n                    template_id: tmpl_id,\r\n                    new_asset_owner: author,\r\n                    immutable_data: immutable_data,\r\n                    mutable_data: mutable_data,\r\n                    tokens_to_back: [] //tokens to back \r\n                },\r\n                authorization: [\r\n                    { actor: author, permission: 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n        this.createPool = (creator, ticker, is_inflatable, is_deflatable, is_treasury, descr) => {\r\n            const action = {\r\n                account: 'pools2.nco',\r\n                name: 'createpool',\r\n                data: {\r\n                    owner: creator,\r\n                    ticker: ticker,\r\n                    description: descr,\r\n                    is_inflatable: is_inflatable,\r\n                    is_deflatable: is_deflatable,\r\n                    is_treasury: is_treasury\r\n                },\r\n                authorization: [\r\n                    { actor: creator, permission: 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n        this.txNcoBalance = (from, to, amt, memo) => {\r\n            const action = {\r\n                account: 'eosio.token',\r\n                name: 'transfer',\r\n                data: {\r\n                    from: from,\r\n                    to: to,\r\n                    quantity: amt,\r\n                    memo: memo //''\r\n                },\r\n                authorization: [\r\n                    { 'actor': from, 'permission': 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n        this.txBalance = (contract, from, to, amt, memo) => {\r\n            const action = {\r\n                account: contract,\r\n                name: 'transfer',\r\n                data: {\r\n                    from: from,\r\n                    to: to,\r\n                    quantity: amt,\r\n                    memo: memo //''\r\n                },\r\n                authorization: [\r\n                    { 'actor': from, 'permission': 'active' }\r\n                ]\r\n            };\r\n            return action;\r\n        };\r\n    }\r\n    _pack(account, authorization, name, data) {\r\n        return [{ account, name, authorization, data }];\r\n    }\r\n}\r\nexports.ActionGenerator = ActionGenerator;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL05DT19CbG9ja2NoYWluQVBJLy4vc3JjL2FjdGlvbnMudHM/NjRiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkFjdGlvbkdlbmVyYXRvciA9IHZvaWQgMDtcclxuY2xhc3MgQWN0aW9uR2VuZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRyYWN0LCB0b2tlbl9jb250cmFjdCkge1xyXG4gICAgICAgIHRoaXMuY29udHJhY3QgPSBjb250cmFjdDtcclxuICAgICAgICB0aGlzLnRva2VuX2NvbnRyYWN0ID0gdG9rZW5fY29udHJhY3Q7XHJcbiAgICAgICAgdGhpcy5uZXdhY2NvdW50ID0gKG5ld19uYW1lLCBwYXllciwgbmV3YWNjX3B1YmxpY19hY3RpdmVfa2V5LCBuZXdhY2NfcHVibGljX293bmVyX2tleSkgPT4gKHtcclxuICAgICAgICAgICAgYWNjb3VudDogJ2Vvc2lvJyxcclxuICAgICAgICAgICAgbmFtZTogJ25ld2FjY291bnQnLFxyXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdG9yOiBwYXllcixcclxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnYWN0aXZlJyxcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdG9yOiBwYXllcixcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5ld19uYW1lLFxyXG4gICAgICAgICAgICAgICAgb3duZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5czogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogbmV3YWNjX3B1YmxpY19vd25lcl9rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHdhaXRzOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMSxcclxuICAgICAgICAgICAgICAgICAgICBrZXlzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBuZXdhY2NfcHVibGljX2FjdGl2ZV9rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHdhaXRzOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYnV5cmFtYnl0ZXMgPSAocmVjZWl2ZXIsIHBheWVyID0gJ2lvJywgYW10ID0gODE5MikgPT4gKHtcclxuICAgICAgICAgICAgYWNjb3VudDogJ2Vvc2lvJyxcclxuICAgICAgICAgICAgbmFtZTogJ2J1eXJhbWJ5dGVzJyxcclxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogW3sgYWN0b3I6IHBheWVyLCBwZXJtaXNzaW9uOiAnYWN0aXZlJyB9XSxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcGF5ZXI6IHBheWVyLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLFxyXG4gICAgICAgICAgICAgICAgYnl0ZXM6IGFtdCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRlbGVnYXRlQncgPSAocmVjZWl2ZXIsIHBheWVyID0gJ2lvJywgbmV0X2Ftb3VudCA9ICcxMDAuMDAwMCBOQ08nLCBjcHVfYW1vdW50ID0gJzEwMC4wMDAwIE5DTycsIHRyZmVyID0gdHJ1ZSkgPT4gKHtcclxuICAgICAgICAgICAgYWNjb3VudDogJ2Vvc2lvJyxcclxuICAgICAgICAgICAgbmFtZTogJ2RlbGVnYXRlYncnLFxyXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdG9yOiBwYXllcixcclxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnYWN0aXZlJyxcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmcm9tOiBwYXllcixcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVyOiByZWNlaXZlcixcclxuICAgICAgICAgICAgICAgIHN0YWtlX25ldF9xdWFudGl0eTogbmV0X2Ftb3VudCxcclxuICAgICAgICAgICAgICAgIHN0YWtlX2NwdV9xdWFudGl0eTogY3B1X2Ftb3VudCxcclxuICAgICAgICAgICAgICAgIHRyYW5zZmVyOiB0cmZlcixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qY3JlYXRlVXNlciA9IGFzeW5jIChcclxuICAgICAgICAgIG5ld1VzZXI6IHN0cmluZyxcclxuICAgICAgICAgIHBheWVyOiBzdHJpbmcsXHJcbiAgICAgICAgICBwdWJsaWNfYWN0aXZlX2tleTogc3RyaW5nLFxyXG4gICAgICAgICAgcHVibGljX293bmVyX2tleTogc3RyaW5nXHJcbiAgICAgICAgKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICBsZXQgbmV3YWNjX2FjdGlvbiA9IHRoaXMuX25ld2FjY291bnQobmV3VXNlciwgcGF5ZXIsIHB1YmxpY19hY3RpdmVfa2V5LCBwdWJsaWNfb3duZXJfa2V5KTtcclxuICAgICAgICAgIGxldCBidXlyYW1fYWN0aW9uID0gdGhpcy5fYnV5cmFtYnl0ZXMobmV3VXNlciwgcGF5ZXIpO1xyXG4gICAgICAgICAgbGV0IGRlbGVnYXRlYndfYWN0aW9uID0gdGhpcy5fZGVsZWdhdGVCdyhuZXdVc2VyLCBwYXllcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4gW25ld2FjY19hY3Rpb24sIGJ1eXJhbV9hY3Rpb24sIGRlbGVnYXRlYndfYWN0aW9uXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgY3JlYXRlQWNjb3VudChcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IEVvc2lvQXV0aG9yaXphdGlvbk9iamVjdFtdLFxyXG4gICAgICAgICAgb3duZXI6IHN0cmluZyxcclxuICAgICAgICAgIHN5bWJvbDogc3RyaW5nLFxyXG4gICAgICAgICAgcGF5ZXI6IHN0cmluZ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3BhY2sodGhpcy5jb250cmFjdCwgYXV0aG9yaXphdGlvbiwgXCJvcGVuXCIsIHtcclxuICAgICAgICAgICAgb3duZXIsXHJcbiAgICAgICAgICAgIHN5bWJvbCxcclxuICAgICAgICAgICAgcGF5ZXJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0qL1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29sbGVjdGlvbiA9IChhdXRob3IsIGNvbGxlY3Rpb25fbmFtZSwgYXV0aG9yaXplZF9hY2NvdW50cywgbm90aWZ5X2FjY291bnRzID0gW10sIG1hcmtldF9mZWUsIGFsbG93X25vdGlmeSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiAnYXRvbWljYXNzZXRzJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdjcmVhdGVjb2wnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcjogYXV0aG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fbmFtZTogY29sbGVjdGlvbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsbG93X25vdGlmeTogYWxsb3dfbm90aWZ5LFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRfYWNjb3VudHM6IGF1dGhvcml6ZWRfYWNjb3VudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5X2FjY291bnRzOiBub3RpZnlfYWNjb3VudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2V0X2ZlZTogbWFya2V0X2ZlZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBbXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFtcclxuICAgICAgICAgICAgICAgICAgICB7IGFjdG9yOiBhdXRob3IsIHBlcm1pc3Npb246ICdhY3RpdmUnIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY3JlYXRlU2NoZW1hID0gKGF1dGhvciwgcGF5ZXIsIGNvbGxlY3Rpb25fbmFtZSwgc2NoZW1hX25hbWUsIHNjaCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiAnYXRvbWljYXNzZXRzJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdjcmVhdGVzY2hlbWEnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRfY3JlYXRvcjogYXV0aG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fbmFtZTogY29sbGVjdGlvbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYV9uYW1lOiBzY2hlbWFfbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFfZm9ybWF0OiBzY2hcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBhY3RvcjogYXV0aG9yLCBwZXJtaXNzaW9uOiAnYWN0aXZlJyB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRlbXBsYXRlID0gKGF1dGhvciwgY29sbGVjdGlvbl9uYW1lLCBzY2hlbWFfbmFtZSwgeGZlcmFibGUsIGJ1cm5hYmxlLCBtYXhfc3VwcGx5LCB0ZW1wbGF0ZV9maWVsZHMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgYWNjb3VudDogJ2F0b21pY2Fzc2V0cycsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnY3JlYXRldGVtcGwnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRfY3JlYXRvcjogYXV0aG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fbmFtZTogY29sbGVjdGlvbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYV9uYW1lOiBzY2hlbWFfbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlcmFibGU6IHhmZXJhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1cm5hYmxlOiBidXJuYWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBtYXhfc3VwcGx5OiAweGZmZmZmZixcclxuICAgICAgICAgICAgICAgICAgICBpbW11dGFibGVfZGF0YTogdGVtcGxhdGVfZmllbGRzIC8ve2tleTogJ25hbWUnLCB2YWx1ZTogWydzdHJpbmcnLCAnZGVmYXVsdCddIH0gXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFtcclxuICAgICAgICAgICAgICAgICAgICB7IGFjdG9yOiBhdXRob3IsIHBlcm1pc3Npb246ICdhY3RpdmUnIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGVybWlzc2lvbiA9IChhdXRob3IsIHBlcm1fbmFtZSwgcGVybV9rZXkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvbl9vYmplY3QgPSB7XHJcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDEsXHJcbiAgICAgICAgICAgICAgICBhY2NvdW50czogW3sgcGVybWlzc2lvbjogeyBhY3RvcjogYXV0aG9yLCBwZXJtaXNzaW9uOiAnYWN0aXZlJyB9LCB3ZWlnaHQ6IDEgfV0sXHJcbiAgICAgICAgICAgICAgICBrZXlzOiBbeyBrZXk6IHBlcm1fa2V5LCB3ZWlnaHQ6IDEgfV0sXHJcbiAgICAgICAgICAgICAgICB3YWl0czogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlYXV0aF9pbnB1dCA9IHtcclxuICAgICAgICAgICAgICAgIGFjY291bnQ6IGF1dGhvcixcclxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IHBlcm1fbmFtZSxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogJ2FjdGl2ZScsXHJcbiAgICAgICAgICAgICAgICBhdXRoOiBhdXRob3JpemF0aW9uX29iamVjdFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiAnZW9zaW8nLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3VwZGF0ZWF1dGgnLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdXBkYXRlYXV0aF9pbnB1dCxcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFtcclxuICAgICAgICAgICAgICAgICAgICB7IGFjdG9yOiBhdXRob3IsIHBlcm1pc3Npb246ICdhY3RpdmUnIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubWludEFzc2V0ID0gKGF1dGhvciwgcGF5ZXIsIGNvbF9uYW1lLCBzY2hfbmFtZSwgdG1wbF9pZCwgaW1tdXRhYmxlX2RhdGEsIG11dGFibGVfZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiAnYXRvbWljYXNzZXRzJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdtaW50YXNzZXQnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRfbWludGVyOiBhdXRob3IsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9uYW1lOiBjb2xfbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFfbmFtZTogc2NoX25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHRtcGxfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X2Fzc2V0X293bmVyOiBhdXRob3IsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1tdXRhYmxlX2RhdGE6IGltbXV0YWJsZV9kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIG11dGFibGVfZGF0YTogbXV0YWJsZV9kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIHRva2Vuc190b19iYWNrOiBbXSAvL3Rva2VucyB0byBiYWNrIFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFtcclxuICAgICAgICAgICAgICAgICAgICB7IGFjdG9yOiBhdXRob3IsIHBlcm1pc3Npb246ICdhY3RpdmUnIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUG9vbCA9IChjcmVhdG9yLCB0aWNrZXIsIGlzX2luZmxhdGFibGUsIGlzX2RlZmxhdGFibGUsIGlzX3RyZWFzdXJ5LCBkZXNjcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiAncG9vbHMyLm5jbycsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnY3JlYXRlcG9vbCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3duZXI6IGNyZWF0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgdGlja2VyOiB0aWNrZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzX2luZmxhdGFibGU6IGlzX2luZmxhdGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNfZGVmbGF0YWJsZTogaXNfZGVmbGF0YWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBpc190cmVhc3VyeTogaXNfdHJlYXN1cnlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBhY3RvcjogY3JlYXRvciwgcGVybWlzc2lvbjogJ2FjdGl2ZScgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50eE5jb0JhbGFuY2UgPSAoZnJvbSwgdG8sIGFtdCwgbWVtbykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiAnZW9zaW8udG9rZW4nLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3RyYW5zZmVyJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0byxcclxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogYW10LFxyXG4gICAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8gLy8nJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFtcclxuICAgICAgICAgICAgICAgICAgICB7ICdhY3Rvcic6IGZyb20sICdwZXJtaXNzaW9uJzogJ2FjdGl2ZScgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50eEJhbGFuY2UgPSAoY29udHJhY3QsIGZyb20sIHRvLCBhbXQsIG1lbW8pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgYWNjb3VudDogY29udHJhY3QsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAndHJhbnNmZXInLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXHJcbiAgICAgICAgICAgICAgICAgICAgdG86IHRvLFxyXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBhbXQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVtbzogbWVtbyAvLycnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgJ2FjdG9yJzogZnJvbSwgJ3Blcm1pc3Npb24nOiAnYWN0aXZlJyB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9wYWNrKGFjY291bnQsIGF1dGhvcml6YXRpb24sIG5hbWUsIGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gW3sgYWNjb3VudCwgbmFtZSwgYXV0aG9yaXphdGlvbiwgZGF0YSB9XTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkFjdGlvbkdlbmVyYXRvciA9IEFjdGlvbkdlbmVyYXRvcjtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/actions.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.NCO_BlockchainAPI = exports.devnet_services = exports.devnet_urls = void 0;\r\n// EOS imports\r\nconst eosjs_1 = __webpack_require__(/*! eosjs */ \"eosjs\");\r\nconst eosjs_jssig_1 = __webpack_require__(/*! eosjs/dist/eosjs-jssig */ \"eosjs/dist/eosjs-jssig\"); // development only\r\n// @ts-ignore\r\nconst eosjs_ecc_priveos_1 = __importDefault(__webpack_require__(/*! eosjs-ecc-priveos */ \"eosjs-ecc-priveos\"));\r\n// Extra backend services\r\nconst hyperion_1 = __webpack_require__(/*! @eoscafe/hyperion */ \"@eoscafe/hyperion\");\r\nconst atomicassets_1 = __webpack_require__(/*! atomicassets */ \"atomicassets\");\r\n// Newcoin services  \r\nconst newcoin_pools_js_1 = __webpack_require__(/*! @newcoin-foundation/newcoin.pools-js/ */ \"@newcoin-foundation/newcoin.pools-js/\");\r\nconst src_1 = __webpack_require__(/*! ../../newcoin.pool-js/src */ \"../newcoin.pool-js/src/index.ts\");\r\nconst newcoin_pool_js_1 = __webpack_require__(/*! @newcoin-foundation/newcoin.pool-js */ \"@newcoin-foundation/newcoin.pool-js\");\r\nconst newcoin_daos_js_1 = __webpack_require__(/*! @newcoin-foundation/newcoin.daos-js */ \"@newcoin-foundation/newcoin.daos-js\");\r\nconst actions_1 = __webpack_require__(/*! ./actions */ \"./src/actions.ts\");\r\n// @ts-ignore\r\nconst node_fetch = __importStar(__webpack_require__(/*! node-fetch */ \"node-fetch\"));\r\nconst cross_fetch_1 = __importDefault(__webpack_require__(/*! cross-fetch */ \"cross-fetch\"));\r\n//import * as types from \"./types\";\r\nconst types_1 = __webpack_require__(/*! ./types */ \"./src/types.ts\");\r\n__exportStar(__webpack_require__(/*! ./types */ \"./src/types.ts\"), exports);\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst CREATE_ACCOUNT_DEFAULTS = {\r\n    ram_amt: 8192,\r\n    cpu_amount: '100.0000 NCO',\r\n    net_amount: '100.0000 NCO',\r\n    xfer: false,\r\n};\r\n/**\r\n * The primary tool to interact with [https://newcoin.org](newcoin.org).\r\n *\r\n * This is an early alpha.\r\n *\r\n * See [https://docs.newcoin.org/](https://docs.newcoin.org/) for an overview of the newcoin ecosystem.\r\n */\r\nexports.devnet_urls = {\r\n    nodeos_url: \"https://nodeos-dev.newcoin.org\",\r\n    hyperion_url: \"https://hyperion-dev.newcoin.org\",\r\n    atomicassets_url: \"https://atomic-dev.newcoin.org/\"\r\n};\r\nexports.devnet_services = {\r\n    eosio_contract: \"eosio\",\r\n    token_contract: \"eosio.token\",\r\n    maindao_contract: \"pool.nco\",\r\n    staking_contract: \"pools2.nco\",\r\n    daos_contract: \"daos.nco\"\r\n};\r\nclass NCO_BlockchainAPI {\r\n    /**\r\n     * Init the api\r\n     * @name newcoin-api\r\n     * @param urls\r\n     * @param services\r\n     * @returns a Newcoin API instance\r\n     */\r\n    constructor(urls, services) {\r\n        this.dao_id = \"0\";\r\n        this.pool_id = \"0\";\r\n        this.pool_code = \"\";\r\n        this._url = urls.nodeos_url;\r\n        this._h_url = urls.hyperion_url;\r\n        this._aa_url = urls.atomicassets_url;\r\n        this.aa_api = new atomicassets_1.ExplorerApi(this._aa_url, \"atomicassets\", { fetch: node_fetch });\r\n        this.nodeos_rpc = new eosjs_1.JsonRpc(this._url, { fetch: cross_fetch_1.default });\r\n        this.hrpc = new hyperion_1.JsonRpc(this._h_url, { fetch: cross_fetch_1.default });\r\n        this.cApi = new newcoin_daos_js_1.ChainApi(this._url, services.daos_contract, cross_fetch_1.default);\r\n        this.poolsRpcApi = new newcoin_pools_js_1.RpcApi(this._url, services.staking_contract, cross_fetch_1.default);\r\n        this.poolRpcApi = new newcoin_pool_js_1.RpcApi(this._url, services.maindao_contract, cross_fetch_1.default);\r\n        this.aGen = new newcoin_daos_js_1.ActionGenerator(services.daos_contract, services.token_contract);\r\n        this.mGen = new src_1.ActionGenerator(services.maindao_contract, services.token_contract);\r\n        this.pGen = new newcoin_pools_js_1.ActionGenerator(services.staking_contract, services.maindao_contract);\r\n        this.sdkGen = new actions_1.ActionGenerator(services.eosio_contract, services.token_contract);\r\n        this._services = services;\r\n    }\r\n    /**\r\n     * Create a key pair assuming a secure environment (not frontend)\r\n     * @returns A key pair\r\n     */\r\n    createKeyPair() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield eosjs_ecc_priveos_1.default.initialize();\r\n            let opts = { secureEnv: true };\r\n            let p = yield eosjs_ecc_priveos_1.default.randomKey(0, opts);\r\n            //let x = ecc.isValidPrivate(p);\r\n            let t = { prv_key: p, pub_key: eosjs_ecc_priveos_1.default.privateToPublic(p) };\r\n            return t;\r\n        });\r\n    }\r\n    /**\r\n     * Create a user\r\n     * @returns Create User transaction id\r\n     */\r\n    createUser(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { newUser, newacc_pub_active_key, newacc_pub_owner_key, payer, payer_prv_key, ram_amt, net_amount, cpu_amount, xfer } = Object.assign(Object.assign({}, CREATE_ACCOUNT_DEFAULTS), inpt);\r\n            let t;\r\n            let res = {};\r\n            let tres;\r\n            let newacc_action = this.sdkGen.newaccount(newUser, payer, newacc_pub_active_key, newacc_pub_owner_key);\r\n            let buyram_action = this.sdkGen.buyrambytes(newUser, payer, ram_amt);\r\n            let delegatebw_action = this.sdkGen.delegateBw(newUser, payer, net_amount, cpu_amount, xfer);\r\n            let payer_pub_key = eosjs_ecc_priveos_1.default.privateToPublic(payer_prv_key);\r\n            console.log(\"before create account transaction\");\r\n            tres = (yield this.SubmitTx([newacc_action, buyram_action, delegatebw_action], [payer_pub_key], [payer_prv_key])); // [] contained      \r\n            res.TxID_createAcc = tres.transaction_id;\r\n            console.log(\"createuser transaction complete\");\r\n            return res;\r\n        });\r\n    }\r\n    /**\r\n     * Create collection\r\n     * @returns Create Collection and template transactions' ids\r\n     */\r\n    createCollection(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let t;\r\n            let res = {};\r\n            let tres;\r\n            let d = 12 - inpt.user.length;\r\n            if (inpt.collection_name == undefined)\r\n                inpt.collection_name = (0, utils_1.normalizeUsername)(inpt.user, \"z\"); //(inpt.creator).replace('.', 'z' + 'z'.repeat(d));\r\n            if (inpt.schema_name == undefined)\r\n                inpt.schema_name = (0, utils_1.normalizeUsername)(inpt.user, \"w\"); // (inpt.creator).replace('.', 'w' + 'w'.repeat(d));\r\n            let user_public_active_key = eosjs_ecc_priveos_1.default.privateToPublic(inpt.user_prv_active_key);\r\n            let mkt_fee = inpt.mkt_fee ? inpt.mkt_fee : 0.05;\r\n            let allow_notify = inpt.allow_notify ? inpt.allow_notify : true;\r\n            t = this.sdkGen.createCollection(inpt.user, inpt.collection_name, [inpt.user], [inpt.user], mkt_fee, allow_notify);\r\n            console.log(t);\r\n            console.log(\"createcol transaction\");\r\n            tres = (yield this.SubmitTx([t], [user_public_active_key], [inpt.user_prv_active_key]));\r\n            res.TxID_createCol = tres.transaction_id;\r\n            console.log(\"creating schema\");\r\n            let schema_fields = inpt.schema_fields ? inpt.schema_fields : types_1.default_schema;\r\n            t = this.sdkGen.createSchema(inpt.user, inpt.user, inpt.collection_name, inpt.schema_name, schema_fields);\r\n            console.log(t);\r\n            console.log(\"createsch transaction\");\r\n            tres = (yield this.SubmitTx([t], [user_public_active_key], [inpt.user_prv_active_key]));\r\n            res.TxID_createSch = tres.transaction_id;\r\n            console.log(\"creating template\");\r\n            let template = inpt.template_fields ? inpt.template_fields : [];\r\n            let xferable = inpt.xferable ? inpt.xferable : true;\r\n            let burnable = inpt.burnable ? inpt.burnable : true;\r\n            let max_supply = inpt.max_supply ? inpt.max_supply : 0xffffff;\r\n            t = this.sdkGen.createTemplate(inpt.user, inpt.collection_name, inpt.schema_name, xferable, burnable, max_supply, template);\r\n            console.log(t);\r\n            console.log(\"creating template transaction\");\r\n            tres = (yield this.SubmitTx([t], [user_public_active_key], [inpt.user_prv_active_key]));\r\n            res.TxID_createTpl = res.TxID_createTpl;\r\n            return res;\r\n        });\r\n    }\r\n    /**\r\n     * Create a new permission subject to Active permission.\r\n     * @returns Create permission transaction id\r\n     */\r\n    createPermission(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let t = this.sdkGen.createPermission(inpt.author, inpt.perm_name, inpt.perm_pub_key);\r\n            let res = yield this.SubmitTx([t], [eosjs_ecc_priveos_1.default.privateToPublic(inpt.author_prv_active_key)], [inpt.author_prv_active_key]);\r\n            let r = {};\r\n            r.TxID_createPerm = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n     * Link a permission to a specific action of a specific contract.\r\n     * @returns Link permission transaction id\r\n     */\r\n    linkPermission(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const linkauth_input = {\r\n                account: inpt.author,\r\n                code: inpt.action_owner,\r\n                type: inpt.action_to_link,\r\n                requirement: inpt.perm_to_link, // 'active', 'owner' ... \r\n            };\r\n            // the action which will make the linking \r\n            let action = {\r\n                account: 'eosio',\r\n                name: 'linkauth',\r\n                data: linkauth_input,\r\n                authorization: [{\r\n                        actor: inpt.author,\r\n                        permission: 'active'\r\n                    }]\r\n            };\r\n            let res = yield this.SubmitTx([action], [eosjs_ecc_priveos_1.default.privateToPublic(inpt.author_prv_active_key)], [inpt.author_prv_active_key]);\r\n            let r = {};\r\n            r.TxID_linkPerm = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n     * Create a staking pool for an account\r\n     * @returns Create Pool transaction id\r\n     */\r\n    createPool(inpt) {\r\n        var _a, _b, _c;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            inpt.ticker = (inpt.ticker || inpt.owner.substring(0, 3)).toUpperCase();\r\n            (_a = inpt.is_inflatable) !== null && _a !== void 0 ? _a : (inpt.is_inflatable = true);\r\n            (_b = inpt.is_deflatable) !== null && _b !== void 0 ? _b : (inpt.is_deflatable = true);\r\n            (_c = inpt.is_treasury) !== null && _c !== void 0 ? _c : (inpt.is_treasury = false);\r\n            console.log(\"Creating pool: \" + JSON.stringify(inpt));\r\n            let t = this.sdkGen.createPool(inpt.owner, inpt.ticker, inpt.is_inflatable, inpt.is_deflatable, inpt.is_treasury, \"test pool for \" + inpt.owner);\r\n            let res = yield this.SubmitTx([t], [eosjs_ecc_priveos_1.default.privateToPublic(inpt.owner_prv_active_key)], [inpt.owner_prv_active_key]);\r\n            let r = {};\r\n            r.TxID_createPool = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n     * Stake mainDAO\r\n     * @param inpt\r\n     * @returns\r\n     */\r\n    stakeMainDAO(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let r = {};\r\n            const stakeTx = yield this.mGen.stake([{ actor: inpt.payer, permission: \"active\" }], inpt.payer, inpt.amt);\r\n            console.log(\"action: \" + JSON.stringify(stakeTx));\r\n            const res = yield this.SubmitTx(stakeTx, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            r.TxID_stakeMainDAO = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n    * inst UnStake mainDAO\r\n    * @param inpt\r\n    * @returns\r\n    */\r\n    instUnstakeMainDAO(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let r = {};\r\n            const stakeTx = yield this.mGen.instunstake([{ actor: inpt.payer, permission: \"active\" }], inpt.payer, inpt.amt);\r\n            console.log(\"action: \" + JSON.stringify(stakeTx));\r\n            const res = yield this.SubmitTx(stakeTx, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            r.TxID_unstakeMainDAO = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n     * delayed UnStake mainDAO\r\n     * @param inpt\r\n     * @returns\r\n     */\r\n    dldUnstakeMainDAO(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let r = {};\r\n            const stakeTx = yield this.mGen.dldunstake([{ actor: inpt.payer, permission: \"active\" }], inpt.payer, inpt.amt);\r\n            console.log(\"action: \" + JSON.stringify(stakeTx));\r\n            const res = yield this.SubmitTx(stakeTx, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            r.TxID_unstakeMainDAO = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n     * Stake to pool\r\n     * @returns Create Pool transaction id\r\n     */\r\n    stakePool(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let p = { owner: inpt.owner };\r\n            let r = {};\r\n            console.log(\"Get poolbyowner: \", JSON.stringify(p));\r\n            let q = yield this.poolsRpcApi.getPoolByOwner(p);\r\n            let t = yield q.json();\r\n            this.pool_id = t.rows[0].id;\r\n            this.pool_code = t.rows[0].code;\r\n            console.log(\"pool:\" + JSON.stringify(t));\r\n            const stakeTx = yield this.pGen.stakeToPool([{ actor: inpt.payer, permission: \"active\" },\r\n                { actor: \"io\", permission: \"active\" }], inpt.payer, inpt.amt, this.pool_id);\r\n            console.log(\"action: \" + JSON.stringify(stakeTx));\r\n            const res = yield this.SubmitTx(stakeTx, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            r.TxID_stakePool = res.transaction_id;\r\n            r.pool_id = this.pool_id;\r\n            r.pool_code = this.pool_code;\r\n            return r;\r\n        });\r\n    }\r\n    unstakePool(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const t = yield this.pGen.withdrawFromPool([{ actor: inpt.payer, permission: \"active\" }], //{ actor: \"io\", permission: \"active\"}\r\n            inpt.payer, inpt.amt);\r\n            console.log(\"action: \" + JSON.stringify(t));\r\n            const res = yield this.SubmitTx(t, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            let r = {};\r\n            r.TxID_unstakePool = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    addToWhiteList(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            //const aGen = new PoolsActionGenerator(\"pools2.nco\", \"eosio.token\");\r\n            /*const t = await this.aGen.createWhiteListProposal(\r\n              [{ actor: inpt.owner, permission: \"active\" }],\r\n              ~~inpt.dao_id,\r\n              inpt.account);\r\n        \r\n            const res = await this.SubmitTx(t,\r\n              [ecc.privateToPublic(inpt.owner_prv_key)], [inpt.owner_prv_key]) as TransactResult;\r\n          */\r\n            let r = {};\r\n            r.TxID_addToWhiteList = \"0\"; //res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    removeFromWhiteList(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            //const aGen = new PoolsActionGenerator(\"pools2.nco\", \"eosio.token\");\r\n            //const t = await pGen.removeFromWhiteList(\r\n            //  [{ actor: inpt.owner, permission: \"active\"}],\r\n            //  inpt.pool_id,\r\n            //  inpt.owner);\r\n            //const res = await SubmitTx(t, \r\n            //  [ecc.privateToPublic(inpt.owner_prv_key)], [inpt.owner_prv_key], \r\n            //  this._url) as TransactResult;\r\n            let r = {};\r\n            //r.TxID_removeFromWhiteList = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    createDao(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const t = yield this.aGen.createDao([{ actor: inpt.author, permission: \"active\" }], inpt.author, inpt.descr);\r\n            const res = yield this.SubmitTx(t, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.authpr_prv_key)], [inpt.authpr_prv_key]);\r\n            let p = { owner: inpt.author };\r\n            console.log(\"Get dao by owner: \", JSON.stringify(p));\r\n            let q = yield this.cApi.getDAOByOwner(p);\r\n            let w = yield q.json();\r\n            console.log(\"received from getDaoByOwner\" + JSON.stringify(w));\r\n            let r = {};\r\n            r.TxID_createDao = res.transaction_id;\r\n            r.dao_id = w.rows[0].id;\r\n            this.dao_id = r.dao_id.toString();\r\n            return r;\r\n        });\r\n    }\r\n    createDaoProposal(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (inpt.dao_id == undefined) {\r\n                if (inpt.dao_owner == undefined)\r\n                    throw (\"DAO undefined\");\r\n                let p = { owner: inpt.dao_owner };\r\n                console.log(\"Get dao by owner: \", JSON.stringify(p));\r\n                let q = yield this.cApi.getDAOByOwner(p);\r\n                let w = yield q.json();\r\n                console.log(\"received from getDaoByOwner\" + JSON.stringify(w));\r\n                inpt.dao_id = w.rows[0].id;\r\n            }\r\n            const t = yield this.aGen.createProposal([{ actor: inpt.proposer, permission: \"active\" }], inpt.proposer, inpt.dao_id, inpt.title, inpt.summary, inpt.url, inpt.vote_start, inpt.vote_end);\r\n            const res = yield this.SubmitTx(t, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.proposer_prv_key)], [inpt.proposer_prv_key]);\r\n            let r = {};\r\n            r.TxID_createDaoProposal = res.transaction_id;\r\n            r.dao_id = inpt.dao_id;\r\n            return r;\r\n        });\r\n    }\r\n    approveDaoProposal(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (inpt.dao_id == undefined) {\r\n                if (inpt.dao_owner == undefined)\r\n                    throw (\"DAO undefined\");\r\n                let p = { owner: inpt.dao_owner };\r\n                console.log(\"Get dao by owner: \", JSON.stringify(p));\r\n                let q = yield this.cApi.getDAOByOwner(p);\r\n                let w = yield q.json();\r\n                console.log(\"received from getDaoByOwner\" + JSON.stringify(w));\r\n                inpt.dao_id = w.rows[0].id;\r\n            }\r\n            if (inpt.proposal_id == undefined) {\r\n                if (inpt.proposal_author == undefined)\r\n                    throw (\"Proposal undefined neither ID nor name\");\r\n                let p = {\r\n                    daoID: inpt.dao_id.toString(),\r\n                    proposer: inpt.proposal_author\r\n                };\r\n                console.log(\"Get proposal by author: \", JSON.stringify(p));\r\n                let q = yield this.cApi.getProposalByProposer(p);\r\n                let w = yield q.json();\r\n                console.log(\"received from getProposalByOwner\" + JSON.stringify(w));\r\n                inpt.proposal_id = w.rows[0].id;\r\n            }\r\n            const t = yield this.aGen.approveProposal([{ actor: inpt.approver, permission: \"active\" }], inpt.dao_id, inpt.proposal_id);\r\n            const res = yield this.SubmitTx(t, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.approver_prv_key)], [inpt.approver_prv_key]);\r\n            let r = {};\r\n            r.TxID_approveDaoProposal = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    executeDaoProposal(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (inpt.dao_id == undefined) {\r\n                if (inpt.dao_owner == undefined)\r\n                    throw (\"DAO undefined\");\r\n                let q = yield this.cApi.getDAOByOwner({ owner: inpt.dao_owner });\r\n                let w = yield q.json();\r\n                console.log(\"received from getDaoByOwner\" + JSON.stringify(w));\r\n                inpt.dao_id = w.rows[0].id;\r\n            }\r\n            if (inpt.proposal_id == undefined) {\r\n                if (inpt.proposal_author == undefined)\r\n                    throw (\"Proposal undefined neither ID nor name\");\r\n                let p = {\r\n                    daoID: inpt.dao_id.toString(),\r\n                    proposer: inpt.proposal_author\r\n                };\r\n                console.log(\"Get proposal by author: \", JSON.stringify(p));\r\n                let q = yield this.cApi.getProposalByProposer(p);\r\n                let w = yield q.json();\r\n                console.log(\"received from getProposalByOwner\" + JSON.stringify(w));\r\n                inpt.proposal_id = w.rows[0].id;\r\n            }\r\n            const t = yield this.aGen.executeProposal([{ actor: inpt.exec, permission: \"active\" }], inpt.dao_id, inpt.proposal_id);\r\n            const res = yield this.SubmitTx(t, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.exec_prv_key)], [inpt.exec_prv_key]);\r\n            let r = {};\r\n            r.TxID_executeDaoProposal = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    getDaoProposals(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (inpt.dao_id == undefined) {\r\n                if (inpt.dao_owner == undefined)\r\n                    return {};\r\n                let q = yield this.cApi.getDAOByOwner({ owner: inpt.dao_owner });\r\n                let w = yield q.json();\r\n                console.log(\"received from getDaoByOwner\" + JSON.stringify(w));\r\n                inpt.dao_id = (w.rows[0].id).toString();\r\n            }\r\n            if (inpt.proposal_id == undefined) {\r\n                const opt = { daoID: inpt.dao_id, proposer: inpt.proposal_author };\r\n                let q = yield this.cApi.getProposalByProposer(opt);\r\n                let w = yield q.json();\r\n                console.log(\"received from getProposalbyProposer\" + JSON.stringify(w));\r\n                inpt.proposal_id = (w.rows[0].id).toString();\r\n            }\r\n            console.log(\"Get proposals for dao \", JSON.stringify(inpt.dao_id));\r\n            let q = yield this.cApi.getProposalByID({ daoID: inpt.dao_id, id: inpt.proposal_id });\r\n            let w = yield q.json();\r\n            console.log(\"received from getProposalByID\" + JSON.stringify(w.rows));\r\n            return w.rows;\r\n        });\r\n    }\r\n    voteOnDaoProposal(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            console.log(\"Vote for DAO proposal\", JSON.stringify(inpt.dao_id));\r\n            const t = yield this.aGen.vote([{ actor: inpt.voter, permission: \"active\" }], inpt.voter, inpt.quantity, inpt.proposal_type || \"standart\", inpt.dao_id, inpt.proposal_id, inpt.option);\r\n            // let w = await q.json();\r\n            const res = yield this.SubmitTx(t, [eosjs_ecc_priveos_1.default.privateToPublic(inpt.voter_prv_key)], [inpt.voter_prv_key]);\r\n            console.log(\"received from VoteForDaoProposal\" + JSON.stringify(res));\r\n            return { TxID_voteForDaoProposal: res.transaction_id };\r\n        });\r\n    }\r\n    /**\r\n     * Mint an asset\r\n     * @returns Create Pool transaction id\r\n     */\r\n    mintAsset(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let d = 12 - inpt.creator.length;\r\n            if (inpt.col_name == undefined)\r\n                inpt.col_name = (0, utils_1.normalizeUsername)(inpt.creator, \"z\");\r\n            if (inpt.sch_name == undefined)\r\n                inpt.sch_name = (0, utils_1.normalizeUsername)(inpt.creator, \"w\");\r\n            if (inpt.tmpl_id == undefined)\r\n                inpt.tmpl_id = -1;\r\n            if (inpt.immutable_data == undefined)\r\n                inpt.immutable_data = [\r\n                    { key: 'name', value: ['string', inpt.creator + '_' + (new Date()).getTime()] }\r\n                ];\r\n            if (inpt.mutable_data == undefined)\r\n                inpt.mutable_data = [];\r\n            const t = this.sdkGen.mintAsset(inpt.creator, inpt.payer, inpt.col_name, inpt.sch_name, inpt.tmpl_id, inpt.immutable_data, inpt.mutable_data);\r\n            let res = yield this.SubmitTx([t], [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            let r = {};\r\n            r.TxID_mintAsset = res.transaction_id;\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n     * Get trasaction data\r\n     * @returns Tx data\r\n     */\r\n    getTxData(txid) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let txi = yield this.hrpc.get_transaction(txid);\r\n            console.log(txi); // get template number  txi.actions[1].act.data.template_id\r\n            return txi;\r\n        });\r\n    }\r\n    /**\r\n     * Get account balance\r\n     * @returns Tx data\r\n     */\r\n    getAccountBalance(acc) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (acc.contract == undefined)\r\n                acc.contract = 'eosio.token';\r\n            let rc = { acc_balances: [] };\r\n            try {\r\n                let t = yield (0, cross_fetch_1.default)(`https://nodeos-dev.newcoin.org/v1/chain/get_currency_balance`, {\r\n                    method: \"POST\",\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    body: JSON.stringify({\r\n                        account: acc.owner,\r\n                        code: acc.contract\r\n                    }),\r\n                });\r\n                rc.acc_balances = yield t.json();\r\n                //console.log(rc);\r\n                return rc;\r\n            }\r\n            catch (e) {\r\n                console.log('\\nCaught exception: ' + e);\r\n                if (e instanceof eosjs_1.RpcError)\r\n                    console.log(JSON.stringify(e.json, null, 2));\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Transfer NCO between accounts\r\n     * @returns Transfer transaction id\r\n     */\r\n    _txBalance(contract, inpt, memo = \"\") {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let r = {};\r\n            let tx = this.sdkGen.txBalance(contract, inpt.payer, inpt.to, inpt.amt, memo);\r\n            let res = yield this.SubmitTx([tx], [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            r.TxID = res.transaction_id;\r\n            //console.log(res);\r\n            return r;\r\n        });\r\n    }\r\n    txGNCOBalance(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const r = yield this._txBalance(this._services.maindao_contract, inpt);\r\n            return r.TxID;\r\n        });\r\n    }\r\n    txNCOBalance(inpt) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const r = yield this._txBalance(this._services.token_contract, inpt);\r\n            return r.TxID;\r\n        });\r\n    }\r\n    /**\r\n     * Transfer NCO between accounts\r\n     * @returns Transfer transaction id\r\n     */\r\n    txNcoBalance(inpt) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let r = {};\r\n            let tx = this.sdkGen.txNcoBalance(inpt.payer, inpt.to, inpt.amt, (_a = inpt.memo) !== null && _a !== void 0 ? _a : (inpt.memo = \"\"));\r\n            let res = yield this.SubmitTx([tx], [eosjs_ecc_priveos_1.default.privateToPublic(inpt.payer_prv_key)], [inpt.payer_prv_key]);\r\n            r.TxID_txNcoBalance = res.transaction_id;\r\n            //console.log(res);\r\n            return r;\r\n        });\r\n    }\r\n    /**\r\n   * Get pool info\r\n   * @returns Tx data\r\n   */\r\n    getPoolInfo(payload) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const api = new newcoin_pools_js_1.RpcApi(\"https://nodeos-dev.newcoin.org\", \"pools2.nco\", cross_fetch_1.default);\r\n            try {\r\n                const fn = payload.code ? \"getPoolByCode\" : \"getPoolByOwner\";\r\n                let q = yield api[fn](payload);\r\n                let t = yield q.json();\r\n                //console.log(t.rows[0]);\r\n                //console.log(t.rows[0].total);\r\n                return t;\r\n            }\r\n            catch (e) {\r\n                console.log('\\nCaught exception: ' + e);\r\n                if (e instanceof eosjs_1.RpcError)\r\n                    console.log(JSON.stringify(e.json, null, 2));\r\n            }\r\n            return {};\r\n            ``;\r\n        });\r\n    }\r\n    SubmitTx(actions, public_keys, // testnet [\"EOS5PU92CupzxWEuvTMcCNr3G69r4Vch3bmYDrczNSHx5LbNRY7NT\"]\r\n    private_keys // testnet [\"5KdRwMUrkFssK2nUXASnhzjsN1rNNiy8bXAJoHYbBgJMLzjiXHV\"]\r\n    ) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const signatureProvider = new eosjs_jssig_1.JsSignatureProvider(private_keys);\r\n            signatureProvider.availableKeys = public_keys;\r\n            //@ts-ignore\r\n            const rpc = this.nodeos_rpc;\r\n            const api = new eosjs_1.Api({ rpc, signatureProvider }); //required to submit transactions\r\n            const info = yield rpc.get_info();\r\n            const lastBlockInfo = yield rpc.get_block(info.last_irreversible_block_num);\r\n            const tzOff = new Date(info.head_block_time).getTimezoneOffset();\r\n            var t = new Date((new Date(info.head_block_time)).getTime() + 10 * 60 * 1000 - tzOff * 1000 * 60).toISOString().slice(0, -1); //+10m\r\n            const transactionObj = {\r\n                actions: actions,\r\n                expiration: t,\r\n                ref_block_prefix: lastBlockInfo.ref_block_prefix,\r\n                ref_block_num: lastBlockInfo.block_num & 0xffff, // 22774\r\n            };\r\n            const a = yield api.serializeActions(transactionObj.actions);\r\n            const transaction = Object.assign(Object.assign({}, transactionObj), { actions: a });\r\n            const serializedTransaction = api.serializeTransaction(transaction);\r\n            const availableKeys = yield api.signatureProvider.getAvailableKeys();\r\n            const requiredKeys = yield api.authorityProvider.getRequiredKeys({ transaction, availableKeys });\r\n            const abis = yield api.getTransactionAbis(transaction);\r\n            // const pushTransactionArgs: PushTransactionArgs = { serializedTransaction, signatures };\r\n            const pushTransactionArgs = yield api.signatureProvider.sign({\r\n                chainId: info.chain_id,\r\n                requiredKeys: requiredKeys,\r\n                serializedTransaction: serializedTransaction,\r\n                serializedContextFreeData: undefined,\r\n                abis: abis\r\n            });\r\n            //console.log(\"signed transaction: \" + JSON.stringify(pushTransactionArgs));\r\n            /*\r\n            let tr  = serializedTransaction.buffer.toString();\r\n            let eccst = ecc.sign(serializedTransaction, private_keys[0]);\r\n            let pub_from_prv = ecc.privateToPublic(private_keys[0]);\r\n            let sig = pushTransactionArgs.signatures[0];\r\n            let key = ecc.recover(sig, tr);\r\n            let c = ecc.verify(sig, tr, public_keys[0]);\r\n            console.log(\"signature verification: return %d\", c)*/\r\n            return api.pushSignedTransaction(pushTransactionArgs);\r\n        });\r\n    }\r\n    ;\r\n}\r\nexports.NCO_BlockchainAPI = NCO_BlockchainAPI;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTkNPX0Jsb2NrY2hhaW5BUEkvLi9zcmMvaW5kZXgudHM/NTJmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pKTtcclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59KTtcclxudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xyXG59O1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5OQ09fQmxvY2tjaGFpbkFQSSA9IGV4cG9ydHMuZGV2bmV0X3NlcnZpY2VzID0gZXhwb3J0cy5kZXZuZXRfdXJscyA9IHZvaWQgMDtcclxuLy8gRU9TIGltcG9ydHNcclxuY29uc3QgZW9zanNfMSA9IHJlcXVpcmUoXCJlb3Nqc1wiKTtcclxuY29uc3QgZW9zanNfanNzaWdfMSA9IHJlcXVpcmUoXCJlb3Nqcy9kaXN0L2Vvc2pzLWpzc2lnXCIpOyAvLyBkZXZlbG9wbWVudCBvbmx5XHJcbi8vIEB0cy1pZ25vcmVcclxuY29uc3QgZW9zanNfZWNjX3ByaXZlb3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZW9zanMtZWNjLXByaXZlb3NcIikpO1xyXG4vLyBFeHRyYSBiYWNrZW5kIHNlcnZpY2VzXHJcbmNvbnN0IGh5cGVyaW9uXzEgPSByZXF1aXJlKFwiQGVvc2NhZmUvaHlwZXJpb25cIik7XHJcbmNvbnN0IGF0b21pY2Fzc2V0c18xID0gcmVxdWlyZShcImF0b21pY2Fzc2V0c1wiKTtcclxuLy8gTmV3Y29pbiBzZXJ2aWNlcyAgXHJcbmNvbnN0IG5ld2NvaW5fcG9vbHNfanNfMSA9IHJlcXVpcmUoXCJAbmV3Y29pbi1mb3VuZGF0aW9uL25ld2NvaW4ucG9vbHMtanMvXCIpO1xyXG5jb25zdCBzcmNfMSA9IHJlcXVpcmUoXCIuLi8uLi9uZXdjb2luLnBvb2wtanMvc3JjXCIpO1xyXG5jb25zdCBuZXdjb2luX3Bvb2xfanNfMSA9IHJlcXVpcmUoXCJAbmV3Y29pbi1mb3VuZGF0aW9uL25ld2NvaW4ucG9vbC1qc1wiKTtcclxuY29uc3QgbmV3Y29pbl9kYW9zX2pzXzEgPSByZXF1aXJlKFwiQG5ld2NvaW4tZm91bmRhdGlvbi9uZXdjb2luLmRhb3MtanNcIik7XHJcbmNvbnN0IGFjdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2FjdGlvbnNcIik7XHJcbi8vIEB0cy1pZ25vcmVcclxuY29uc3Qgbm9kZV9mZXRjaCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwibm9kZS1mZXRjaFwiKSk7XHJcbmNvbnN0IGNyb3NzX2ZldGNoXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImNyb3NzLWZldGNoXCIpKTtcclxuLy9pbXBvcnQgKiBhcyB0eXBlcyBmcm9tIFwiLi90eXBlc1wiO1xyXG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XHJcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90eXBlc1wiKSwgZXhwb3J0cyk7XHJcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxuY29uc3QgQ1JFQVRFX0FDQ09VTlRfREVGQVVMVFMgPSB7XHJcbiAgICByYW1fYW10OiA4MTkyLFxyXG4gICAgY3B1X2Ftb3VudDogJzEwMC4wMDAwIE5DTycsXHJcbiAgICBuZXRfYW1vdW50OiAnMTAwLjAwMDAgTkNPJyxcclxuICAgIHhmZXI6IGZhbHNlLFxyXG59O1xyXG4vKipcclxuICogVGhlIHByaW1hcnkgdG9vbCB0byBpbnRlcmFjdCB3aXRoIFtodHRwczovL25ld2NvaW4ub3JnXShuZXdjb2luLm9yZykuXHJcbiAqXHJcbiAqIFRoaXMgaXMgYW4gZWFybHkgYWxwaGEuXHJcbiAqXHJcbiAqIFNlZSBbaHR0cHM6Ly9kb2NzLm5ld2NvaW4ub3JnL10oaHR0cHM6Ly9kb2NzLm5ld2NvaW4ub3JnLykgZm9yIGFuIG92ZXJ2aWV3IG9mIHRoZSBuZXdjb2luIGVjb3N5c3RlbS5cclxuICovXHJcbmV4cG9ydHMuZGV2bmV0X3VybHMgPSB7XHJcbiAgICBub2Rlb3NfdXJsOiBcImh0dHBzOi8vbm9kZW9zLWRldi5uZXdjb2luLm9yZ1wiLFxyXG4gICAgaHlwZXJpb25fdXJsOiBcImh0dHBzOi8vaHlwZXJpb24tZGV2Lm5ld2NvaW4ub3JnXCIsXHJcbiAgICBhdG9taWNhc3NldHNfdXJsOiBcImh0dHBzOi8vYXRvbWljLWRldi5uZXdjb2luLm9yZy9cIlxyXG59O1xyXG5leHBvcnRzLmRldm5ldF9zZXJ2aWNlcyA9IHtcclxuICAgIGVvc2lvX2NvbnRyYWN0OiBcImVvc2lvXCIsXHJcbiAgICB0b2tlbl9jb250cmFjdDogXCJlb3Npby50b2tlblwiLFxyXG4gICAgbWFpbmRhb19jb250cmFjdDogXCJwb29sLm5jb1wiLFxyXG4gICAgc3Rha2luZ19jb250cmFjdDogXCJwb29sczIubmNvXCIsXHJcbiAgICBkYW9zX2NvbnRyYWN0OiBcImRhb3MubmNvXCJcclxufTtcclxuY2xhc3MgTkNPX0Jsb2NrY2hhaW5BUEkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0IHRoZSBhcGlcclxuICAgICAqIEBuYW1lIG5ld2NvaW4tYXBpXHJcbiAgICAgKiBAcGFyYW0gdXJsc1xyXG4gICAgICogQHBhcmFtIHNlcnZpY2VzXHJcbiAgICAgKiBAcmV0dXJucyBhIE5ld2NvaW4gQVBJIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHVybHMsIHNlcnZpY2VzKSB7XHJcbiAgICAgICAgdGhpcy5kYW9faWQgPSBcIjBcIjtcclxuICAgICAgICB0aGlzLnBvb2xfaWQgPSBcIjBcIjtcclxuICAgICAgICB0aGlzLnBvb2xfY29kZSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5fdXJsID0gdXJscy5ub2Rlb3NfdXJsO1xyXG4gICAgICAgIHRoaXMuX2hfdXJsID0gdXJscy5oeXBlcmlvbl91cmw7XHJcbiAgICAgICAgdGhpcy5fYWFfdXJsID0gdXJscy5hdG9taWNhc3NldHNfdXJsO1xyXG4gICAgICAgIHRoaXMuYWFfYXBpID0gbmV3IGF0b21pY2Fzc2V0c18xLkV4cGxvcmVyQXBpKHRoaXMuX2FhX3VybCwgXCJhdG9taWNhc3NldHNcIiwgeyBmZXRjaDogbm9kZV9mZXRjaCB9KTtcclxuICAgICAgICB0aGlzLm5vZGVvc19ycGMgPSBuZXcgZW9zanNfMS5Kc29uUnBjKHRoaXMuX3VybCwgeyBmZXRjaDogY3Jvc3NfZmV0Y2hfMS5kZWZhdWx0IH0pO1xyXG4gICAgICAgIHRoaXMuaHJwYyA9IG5ldyBoeXBlcmlvbl8xLkpzb25ScGModGhpcy5faF91cmwsIHsgZmV0Y2g6IGNyb3NzX2ZldGNoXzEuZGVmYXVsdCB9KTtcclxuICAgICAgICB0aGlzLmNBcGkgPSBuZXcgbmV3Y29pbl9kYW9zX2pzXzEuQ2hhaW5BcGkodGhpcy5fdXJsLCBzZXJ2aWNlcy5kYW9zX2NvbnRyYWN0LCBjcm9zc19mZXRjaF8xLmRlZmF1bHQpO1xyXG4gICAgICAgIHRoaXMucG9vbHNScGNBcGkgPSBuZXcgbmV3Y29pbl9wb29sc19qc18xLlJwY0FwaSh0aGlzLl91cmwsIHNlcnZpY2VzLnN0YWtpbmdfY29udHJhY3QsIGNyb3NzX2ZldGNoXzEuZGVmYXVsdCk7XHJcbiAgICAgICAgdGhpcy5wb29sUnBjQXBpID0gbmV3IG5ld2NvaW5fcG9vbF9qc18xLlJwY0FwaSh0aGlzLl91cmwsIHNlcnZpY2VzLm1haW5kYW9fY29udHJhY3QsIGNyb3NzX2ZldGNoXzEuZGVmYXVsdCk7XHJcbiAgICAgICAgdGhpcy5hR2VuID0gbmV3IG5ld2NvaW5fZGFvc19qc18xLkFjdGlvbkdlbmVyYXRvcihzZXJ2aWNlcy5kYW9zX2NvbnRyYWN0LCBzZXJ2aWNlcy50b2tlbl9jb250cmFjdCk7XHJcbiAgICAgICAgdGhpcy5tR2VuID0gbmV3IHNyY18xLkFjdGlvbkdlbmVyYXRvcihzZXJ2aWNlcy5tYWluZGFvX2NvbnRyYWN0LCBzZXJ2aWNlcy50b2tlbl9jb250cmFjdCk7XHJcbiAgICAgICAgdGhpcy5wR2VuID0gbmV3IG5ld2NvaW5fcG9vbHNfanNfMS5BY3Rpb25HZW5lcmF0b3Ioc2VydmljZXMuc3Rha2luZ19jb250cmFjdCwgc2VydmljZXMubWFpbmRhb19jb250cmFjdCk7XHJcbiAgICAgICAgdGhpcy5zZGtHZW4gPSBuZXcgYWN0aW9uc18xLkFjdGlvbkdlbmVyYXRvcihzZXJ2aWNlcy5lb3Npb19jb250cmFjdCwgc2VydmljZXMudG9rZW5fY29udHJhY3QpO1xyXG4gICAgICAgIHRoaXMuX3NlcnZpY2VzID0gc2VydmljZXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIGtleSBwYWlyIGFzc3VtaW5nIGEgc2VjdXJlIGVudmlyb25tZW50IChub3QgZnJvbnRlbmQpXHJcbiAgICAgKiBAcmV0dXJucyBBIGtleSBwYWlyXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUtleVBhaXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgeWllbGQgZW9zanNfZWNjX3ByaXZlb3NfMS5kZWZhdWx0LmluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgbGV0IG9wdHMgPSB7IHNlY3VyZUVudjogdHJ1ZSB9O1xyXG4gICAgICAgICAgICBsZXQgcCA9IHlpZWxkIGVvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5yYW5kb21LZXkoMCwgb3B0cyk7XHJcbiAgICAgICAgICAgIC8vbGV0IHggPSBlY2MuaXNWYWxpZFByaXZhdGUocCk7XHJcbiAgICAgICAgICAgIGxldCB0ID0geyBwcnZfa2V5OiBwLCBwdWJfa2V5OiBlb3Nqc19lY2NfcHJpdmVvc18xLmRlZmF1bHQucHJpdmF0ZVRvUHVibGljKHApIH07XHJcbiAgICAgICAgICAgIHJldHVybiB0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSB1c2VyXHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGUgVXNlciB0cmFuc2FjdGlvbiBpZFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVVc2VyKGlucHQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCB7IG5ld1VzZXIsIG5ld2FjY19wdWJfYWN0aXZlX2tleSwgbmV3YWNjX3B1Yl9vd25lcl9rZXksIHBheWVyLCBwYXllcl9wcnZfa2V5LCByYW1fYW10LCBuZXRfYW1vdW50LCBjcHVfYW1vdW50LCB4ZmVyIH0gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIENSRUFURV9BQ0NPVU5UX0RFRkFVTFRTKSwgaW5wdCk7XHJcbiAgICAgICAgICAgIGxldCB0O1xyXG4gICAgICAgICAgICBsZXQgcmVzID0ge307XHJcbiAgICAgICAgICAgIGxldCB0cmVzO1xyXG4gICAgICAgICAgICBsZXQgbmV3YWNjX2FjdGlvbiA9IHRoaXMuc2RrR2VuLm5ld2FjY291bnQobmV3VXNlciwgcGF5ZXIsIG5ld2FjY19wdWJfYWN0aXZlX2tleSwgbmV3YWNjX3B1Yl9vd25lcl9rZXkpO1xyXG4gICAgICAgICAgICBsZXQgYnV5cmFtX2FjdGlvbiA9IHRoaXMuc2RrR2VuLmJ1eXJhbWJ5dGVzKG5ld1VzZXIsIHBheWVyLCByYW1fYW10KTtcclxuICAgICAgICAgICAgbGV0IGRlbGVnYXRlYndfYWN0aW9uID0gdGhpcy5zZGtHZW4uZGVsZWdhdGVCdyhuZXdVc2VyLCBwYXllciwgbmV0X2Ftb3VudCwgY3B1X2Ftb3VudCwgeGZlcik7XHJcbiAgICAgICAgICAgIGxldCBwYXllcl9wdWJfa2V5ID0gZW9zanNfZWNjX3ByaXZlb3NfMS5kZWZhdWx0LnByaXZhdGVUb1B1YmxpYyhwYXllcl9wcnZfa2V5KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJiZWZvcmUgY3JlYXRlIGFjY291bnQgdHJhbnNhY3Rpb25cIik7XHJcbiAgICAgICAgICAgIHRyZXMgPSAoeWllbGQgdGhpcy5TdWJtaXRUeChbbmV3YWNjX2FjdGlvbiwgYnV5cmFtX2FjdGlvbiwgZGVsZWdhdGVid19hY3Rpb25dLCBbcGF5ZXJfcHViX2tleV0sIFtwYXllcl9wcnZfa2V5XSkpOyAvLyBbXSBjb250YWluZWQgICAgICBcclxuICAgICAgICAgICAgcmVzLlR4SURfY3JlYXRlQWNjID0gdHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGV1c2VyIHRyYW5zYWN0aW9uIGNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgY29sbGVjdGlvblxyXG4gICAgICogQHJldHVybnMgQ3JlYXRlIENvbGxlY3Rpb24gYW5kIHRlbXBsYXRlIHRyYW5zYWN0aW9ucycgaWRzXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUNvbGxlY3Rpb24oaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB0O1xyXG4gICAgICAgICAgICBsZXQgcmVzID0ge307XHJcbiAgICAgICAgICAgIGxldCB0cmVzO1xyXG4gICAgICAgICAgICBsZXQgZCA9IDEyIC0gaW5wdC51c2VyLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGlucHQuY29sbGVjdGlvbl9uYW1lID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIGlucHQuY29sbGVjdGlvbl9uYW1lID0gKDAsIHV0aWxzXzEubm9ybWFsaXplVXNlcm5hbWUpKGlucHQudXNlciwgXCJ6XCIpOyAvLyhpbnB0LmNyZWF0b3IpLnJlcGxhY2UoJy4nLCAneicgKyAneicucmVwZWF0KGQpKTtcclxuICAgICAgICAgICAgaWYgKGlucHQuc2NoZW1hX25hbWUgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgaW5wdC5zY2hlbWFfbmFtZSA9ICgwLCB1dGlsc18xLm5vcm1hbGl6ZVVzZXJuYW1lKShpbnB0LnVzZXIsIFwid1wiKTsgLy8gKGlucHQuY3JlYXRvcikucmVwbGFjZSgnLicsICd3JyArICd3Jy5yZXBlYXQoZCkpO1xyXG4gICAgICAgICAgICBsZXQgdXNlcl9wdWJsaWNfYWN0aXZlX2tleSA9IGVvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5wcml2YXRlVG9QdWJsaWMoaW5wdC51c2VyX3Bydl9hY3RpdmVfa2V5KTtcclxuICAgICAgICAgICAgbGV0IG1rdF9mZWUgPSBpbnB0Lm1rdF9mZWUgPyBpbnB0Lm1rdF9mZWUgOiAwLjA1O1xyXG4gICAgICAgICAgICBsZXQgYWxsb3dfbm90aWZ5ID0gaW5wdC5hbGxvd19ub3RpZnkgPyBpbnB0LmFsbG93X25vdGlmeSA6IHRydWU7XHJcbiAgICAgICAgICAgIHQgPSB0aGlzLnNka0dlbi5jcmVhdGVDb2xsZWN0aW9uKGlucHQudXNlciwgaW5wdC5jb2xsZWN0aW9uX25hbWUsIFtpbnB0LnVzZXJdLCBbaW5wdC51c2VyXSwgbWt0X2ZlZSwgYWxsb3dfbm90aWZ5KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlY29sIHRyYW5zYWN0aW9uXCIpO1xyXG4gICAgICAgICAgICB0cmVzID0gKHlpZWxkIHRoaXMuU3VibWl0VHgoW3RdLCBbdXNlcl9wdWJsaWNfYWN0aXZlX2tleV0sIFtpbnB0LnVzZXJfcHJ2X2FjdGl2ZV9rZXldKSk7XHJcbiAgICAgICAgICAgIHJlcy5UeElEX2NyZWF0ZUNvbCA9IHRyZXMudHJhbnNhY3Rpb25faWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRpbmcgc2NoZW1hXCIpO1xyXG4gICAgICAgICAgICBsZXQgc2NoZW1hX2ZpZWxkcyA9IGlucHQuc2NoZW1hX2ZpZWxkcyA/IGlucHQuc2NoZW1hX2ZpZWxkcyA6IHR5cGVzXzEuZGVmYXVsdF9zY2hlbWE7XHJcbiAgICAgICAgICAgIHQgPSB0aGlzLnNka0dlbi5jcmVhdGVTY2hlbWEoaW5wdC51c2VyLCBpbnB0LnVzZXIsIGlucHQuY29sbGVjdGlvbl9uYW1lLCBpbnB0LnNjaGVtYV9uYW1lLCBzY2hlbWFfZmllbGRzKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlc2NoIHRyYW5zYWN0aW9uXCIpO1xyXG4gICAgICAgICAgICB0cmVzID0gKHlpZWxkIHRoaXMuU3VibWl0VHgoW3RdLCBbdXNlcl9wdWJsaWNfYWN0aXZlX2tleV0sIFtpbnB0LnVzZXJfcHJ2X2FjdGl2ZV9rZXldKSk7XHJcbiAgICAgICAgICAgIHJlcy5UeElEX2NyZWF0ZVNjaCA9IHRyZXMudHJhbnNhY3Rpb25faWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRpbmcgdGVtcGxhdGVcIik7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IGlucHQudGVtcGxhdGVfZmllbGRzID8gaW5wdC50ZW1wbGF0ZV9maWVsZHMgOiBbXTtcclxuICAgICAgICAgICAgbGV0IHhmZXJhYmxlID0gaW5wdC54ZmVyYWJsZSA/IGlucHQueGZlcmFibGUgOiB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgYnVybmFibGUgPSBpbnB0LmJ1cm5hYmxlID8gaW5wdC5idXJuYWJsZSA6IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBtYXhfc3VwcGx5ID0gaW5wdC5tYXhfc3VwcGx5ID8gaW5wdC5tYXhfc3VwcGx5IDogMHhmZmZmZmY7XHJcbiAgICAgICAgICAgIHQgPSB0aGlzLnNka0dlbi5jcmVhdGVUZW1wbGF0ZShpbnB0LnVzZXIsIGlucHQuY29sbGVjdGlvbl9uYW1lLCBpbnB0LnNjaGVtYV9uYW1lLCB4ZmVyYWJsZSwgYnVybmFibGUsIG1heF9zdXBwbHksIHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRpbmcgdGVtcGxhdGUgdHJhbnNhY3Rpb25cIik7XHJcbiAgICAgICAgICAgIHRyZXMgPSAoeWllbGQgdGhpcy5TdWJtaXRUeChbdF0sIFt1c2VyX3B1YmxpY19hY3RpdmVfa2V5XSwgW2lucHQudXNlcl9wcnZfYWN0aXZlX2tleV0pKTtcclxuICAgICAgICAgICAgcmVzLlR4SURfY3JlYXRlVHBsID0gcmVzLlR4SURfY3JlYXRlVHBsO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgcGVybWlzc2lvbiBzdWJqZWN0IHRvIEFjdGl2ZSBwZXJtaXNzaW9uLlxyXG4gICAgICogQHJldHVybnMgQ3JlYXRlIHBlcm1pc3Npb24gdHJhbnNhY3Rpb24gaWRcclxuICAgICAqL1xyXG4gICAgY3JlYXRlUGVybWlzc2lvbihpbnB0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLnNka0dlbi5jcmVhdGVQZXJtaXNzaW9uKGlucHQuYXV0aG9yLCBpbnB0LnBlcm1fbmFtZSwgaW5wdC5wZXJtX3B1Yl9rZXkpO1xyXG4gICAgICAgICAgICBsZXQgcmVzID0geWllbGQgdGhpcy5TdWJtaXRUeChbdF0sIFtlb3Nqc19lY2NfcHJpdmVvc18xLmRlZmF1bHQucHJpdmF0ZVRvUHVibGljKGlucHQuYXV0aG9yX3Bydl9hY3RpdmVfa2V5KV0sIFtpbnB0LmF1dGhvcl9wcnZfYWN0aXZlX2tleV0pO1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICByLlR4SURfY3JlYXRlUGVybSA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExpbmsgYSBwZXJtaXNzaW9uIHRvIGEgc3BlY2lmaWMgYWN0aW9uIG9mIGEgc3BlY2lmaWMgY29udHJhY3QuXHJcbiAgICAgKiBAcmV0dXJucyBMaW5rIHBlcm1pc3Npb24gdHJhbnNhY3Rpb24gaWRcclxuICAgICAqL1xyXG4gICAgbGlua1Blcm1pc3Npb24oaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmthdXRoX2lucHV0ID0ge1xyXG4gICAgICAgICAgICAgICAgYWNjb3VudDogaW5wdC5hdXRob3IsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiBpbnB0LmFjdGlvbl9vd25lcixcclxuICAgICAgICAgICAgICAgIHR5cGU6IGlucHQuYWN0aW9uX3RvX2xpbmssXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlbWVudDogaW5wdC5wZXJtX3RvX2xpbmssIC8vICdhY3RpdmUnLCAnb3duZXInIC4uLiBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gdGhlIGFjdGlvbiB3aGljaCB3aWxsIG1ha2UgdGhlIGxpbmtpbmcgXHJcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiAnZW9zaW8nLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2xpbmthdXRoJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGxpbmthdXRoX2lucHV0LFxyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3I6IGlucHQuYXV0aG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnYWN0aXZlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGxldCByZXMgPSB5aWVsZCB0aGlzLlN1Ym1pdFR4KFthY3Rpb25dLCBbZW9zanNfZWNjX3ByaXZlb3NfMS5kZWZhdWx0LnByaXZhdGVUb1B1YmxpYyhpbnB0LmF1dGhvcl9wcnZfYWN0aXZlX2tleSldLCBbaW5wdC5hdXRob3JfcHJ2X2FjdGl2ZV9rZXldKTtcclxuICAgICAgICAgICAgbGV0IHIgPSB7fTtcclxuICAgICAgICAgICAgci5UeElEX2xpbmtQZXJtID0gcmVzLnRyYW5zYWN0aW9uX2lkO1xyXG4gICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgc3Rha2luZyBwb29sIGZvciBhbiBhY2NvdW50XHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGUgUG9vbCB0cmFuc2FjdGlvbiBpZFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVQb29sKGlucHQpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYztcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpbnB0LnRpY2tlciA9IChpbnB0LnRpY2tlciB8fCBpbnB0Lm93bmVyLnN1YnN0cmluZygwLCAzKSkudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgKF9hID0gaW5wdC5pc19pbmZsYXRhYmxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoaW5wdC5pc19pbmZsYXRhYmxlID0gdHJ1ZSk7XHJcbiAgICAgICAgICAgIChfYiA9IGlucHQuaXNfZGVmbGF0YWJsZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKGlucHQuaXNfZGVmbGF0YWJsZSA9IHRydWUpO1xyXG4gICAgICAgICAgICAoX2MgPSBpbnB0LmlzX3RyZWFzdXJ5KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAoaW5wdC5pc190cmVhc3VyeSA9IGZhbHNlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGluZyBwb29sOiBcIiArIEpTT04uc3RyaW5naWZ5KGlucHQpKTtcclxuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLnNka0dlbi5jcmVhdGVQb29sKGlucHQub3duZXIsIGlucHQudGlja2VyLCBpbnB0LmlzX2luZmxhdGFibGUsIGlucHQuaXNfZGVmbGF0YWJsZSwgaW5wdC5pc190cmVhc3VyeSwgXCJ0ZXN0IHBvb2wgZm9yIFwiICsgaW5wdC5vd25lcik7XHJcbiAgICAgICAgICAgIGxldCByZXMgPSB5aWVsZCB0aGlzLlN1Ym1pdFR4KFt0XSwgW2Vvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5wcml2YXRlVG9QdWJsaWMoaW5wdC5vd25lcl9wcnZfYWN0aXZlX2tleSldLCBbaW5wdC5vd25lcl9wcnZfYWN0aXZlX2tleV0pO1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICByLlR4SURfY3JlYXRlUG9vbCA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0YWtlIG1haW5EQU9cclxuICAgICAqIEBwYXJhbSBpbnB0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBzdGFrZU1haW5EQU8oaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGxldCByID0ge307XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWtlVHggPSB5aWVsZCB0aGlzLm1HZW4uc3Rha2UoW3sgYWN0b3I6IGlucHQucGF5ZXIsIHBlcm1pc3Npb246IFwiYWN0aXZlXCIgfV0sIGlucHQucGF5ZXIsIGlucHQuYW10KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhY3Rpb246IFwiICsgSlNPTi5zdHJpbmdpZnkoc3Rha2VUeCkpO1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCB0aGlzLlN1Ym1pdFR4KHN0YWtlVHgsIFtlb3Nqc19lY2NfcHJpdmVvc18xLmRlZmF1bHQucHJpdmF0ZVRvUHVibGljKGlucHQucGF5ZXJfcHJ2X2tleSldLCBbaW5wdC5wYXllcl9wcnZfa2V5XSk7XHJcbiAgICAgICAgICAgIHIuVHhJRF9zdGFrZU1haW5EQU8gPSByZXMudHJhbnNhY3Rpb25faWQ7XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIGluc3QgVW5TdGFrZSBtYWluREFPXHJcbiAgICAqIEBwYXJhbSBpbnB0XHJcbiAgICAqIEByZXR1cm5zXHJcbiAgICAqL1xyXG4gICAgaW5zdFVuc3Rha2VNYWluREFPKGlucHQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBzdGFrZVR4ID0geWllbGQgdGhpcy5tR2VuLmluc3R1bnN0YWtlKFt7IGFjdG9yOiBpbnB0LnBheWVyLCBwZXJtaXNzaW9uOiBcImFjdGl2ZVwiIH1dLCBpbnB0LnBheWVyLCBpbnB0LmFtdCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWN0aW9uOiBcIiArIEpTT04uc3RyaW5naWZ5KHN0YWtlVHgpKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgdGhpcy5TdWJtaXRUeChzdGFrZVR4LCBbZW9zanNfZWNjX3ByaXZlb3NfMS5kZWZhdWx0LnByaXZhdGVUb1B1YmxpYyhpbnB0LnBheWVyX3Bydl9rZXkpXSwgW2lucHQucGF5ZXJfcHJ2X2tleV0pO1xyXG4gICAgICAgICAgICByLlR4SURfdW5zdGFrZU1haW5EQU8gPSByZXMudHJhbnNhY3Rpb25faWQ7XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBkZWxheWVkIFVuU3Rha2UgbWFpbkRBT1xyXG4gICAgICogQHBhcmFtIGlucHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGRsZFVuc3Rha2VNYWluREFPKGlucHQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBzdGFrZVR4ID0geWllbGQgdGhpcy5tR2VuLmRsZHVuc3Rha2UoW3sgYWN0b3I6IGlucHQucGF5ZXIsIHBlcm1pc3Npb246IFwiYWN0aXZlXCIgfV0sIGlucHQucGF5ZXIsIGlucHQuYW10KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhY3Rpb246IFwiICsgSlNPTi5zdHJpbmdpZnkoc3Rha2VUeCkpO1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCB0aGlzLlN1Ym1pdFR4KHN0YWtlVHgsIFtlb3Nqc19lY2NfcHJpdmVvc18xLmRlZmF1bHQucHJpdmF0ZVRvUHVibGljKGlucHQucGF5ZXJfcHJ2X2tleSldLCBbaW5wdC5wYXllcl9wcnZfa2V5XSk7XHJcbiAgICAgICAgICAgIHIuVHhJRF91bnN0YWtlTWFpbkRBTyA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0YWtlIHRvIHBvb2xcclxuICAgICAqIEByZXR1cm5zIENyZWF0ZSBQb29sIHRyYW5zYWN0aW9uIGlkXHJcbiAgICAgKi9cclxuICAgIHN0YWtlUG9vbChpbnB0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgbGV0IHAgPSB7IG93bmVyOiBpbnB0Lm93bmVyIH07XHJcbiAgICAgICAgICAgIGxldCByID0ge307XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2V0IHBvb2xieW93bmVyOiBcIiwgSlNPTi5zdHJpbmdpZnkocCkpO1xyXG4gICAgICAgICAgICBsZXQgcSA9IHlpZWxkIHRoaXMucG9vbHNScGNBcGkuZ2V0UG9vbEJ5T3duZXIocCk7XHJcbiAgICAgICAgICAgIGxldCB0ID0geWllbGQgcS5qc29uKCk7XHJcbiAgICAgICAgICAgIHRoaXMucG9vbF9pZCA9IHQucm93c1swXS5pZDtcclxuICAgICAgICAgICAgdGhpcy5wb29sX2NvZGUgPSB0LnJvd3NbMF0uY29kZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwb29sOlwiICsgSlNPTi5zdHJpbmdpZnkodCkpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGFrZVR4ID0geWllbGQgdGhpcy5wR2VuLnN0YWtlVG9Qb29sKFt7IGFjdG9yOiBpbnB0LnBheWVyLCBwZXJtaXNzaW9uOiBcImFjdGl2ZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGFjdG9yOiBcImlvXCIsIHBlcm1pc3Npb246IFwiYWN0aXZlXCIgfV0sIGlucHQucGF5ZXIsIGlucHQuYW10LCB0aGlzLnBvb2xfaWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFjdGlvbjogXCIgKyBKU09OLnN0cmluZ2lmeShzdGFrZVR4KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHlpZWxkIHRoaXMuU3VibWl0VHgoc3Rha2VUeCwgW2Vvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5wcml2YXRlVG9QdWJsaWMoaW5wdC5wYXllcl9wcnZfa2V5KV0sIFtpbnB0LnBheWVyX3Bydl9rZXldKTtcclxuICAgICAgICAgICAgci5UeElEX3N0YWtlUG9vbCA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgci5wb29sX2lkID0gdGhpcy5wb29sX2lkO1xyXG4gICAgICAgICAgICByLnBvb2xfY29kZSA9IHRoaXMucG9vbF9jb2RlO1xyXG4gICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHVuc3Rha2VQb29sKGlucHQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCB0ID0geWllbGQgdGhpcy5wR2VuLndpdGhkcmF3RnJvbVBvb2woW3sgYWN0b3I6IGlucHQucGF5ZXIsIHBlcm1pc3Npb246IFwiYWN0aXZlXCIgfV0sIC8veyBhY3RvcjogXCJpb1wiLCBwZXJtaXNzaW9uOiBcImFjdGl2ZVwifVxyXG4gICAgICAgICAgICBpbnB0LnBheWVyLCBpbnB0LmFtdCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWN0aW9uOiBcIiArIEpTT04uc3RyaW5naWZ5KHQpKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgdGhpcy5TdWJtaXRUeCh0LCBbZW9zanNfZWNjX3ByaXZlb3NfMS5kZWZhdWx0LnByaXZhdGVUb1B1YmxpYyhpbnB0LnBheWVyX3Bydl9rZXkpXSwgW2lucHQucGF5ZXJfcHJ2X2tleV0pO1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICByLlR4SURfdW5zdGFrZVBvb2wgPSByZXMudHJhbnNhY3Rpb25faWQ7XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYWRkVG9XaGl0ZUxpc3QoaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIC8vY29uc3QgYUdlbiA9IG5ldyBQb29sc0FjdGlvbkdlbmVyYXRvcihcInBvb2xzMi5uY29cIiwgXCJlb3Npby50b2tlblwiKTtcclxuICAgICAgICAgICAgLypjb25zdCB0ID0gYXdhaXQgdGhpcy5hR2VuLmNyZWF0ZVdoaXRlTGlzdFByb3Bvc2FsKFxyXG4gICAgICAgICAgICAgIFt7IGFjdG9yOiBpbnB0Lm93bmVyLCBwZXJtaXNzaW9uOiBcImFjdGl2ZVwiIH1dLFxyXG4gICAgICAgICAgICAgIH5+aW5wdC5kYW9faWQsXHJcbiAgICAgICAgICAgICAgaW5wdC5hY2NvdW50KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5TdWJtaXRUeCh0LFxyXG4gICAgICAgICAgICAgIFtlY2MucHJpdmF0ZVRvUHVibGljKGlucHQub3duZXJfcHJ2X2tleSldLCBbaW5wdC5vd25lcl9wcnZfa2V5XSkgYXMgVHJhbnNhY3RSZXN1bHQ7XHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICByLlR4SURfYWRkVG9XaGl0ZUxpc3QgPSBcIjBcIjsgLy9yZXMudHJhbnNhY3Rpb25faWQ7XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlRnJvbVdoaXRlTGlzdChpbnB0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgLy9jb25zdCBhR2VuID0gbmV3IFBvb2xzQWN0aW9uR2VuZXJhdG9yKFwicG9vbHMyLm5jb1wiLCBcImVvc2lvLnRva2VuXCIpO1xyXG4gICAgICAgICAgICAvL2NvbnN0IHQgPSBhd2FpdCBwR2VuLnJlbW92ZUZyb21XaGl0ZUxpc3QoXHJcbiAgICAgICAgICAgIC8vICBbeyBhY3RvcjogaW5wdC5vd25lciwgcGVybWlzc2lvbjogXCJhY3RpdmVcIn1dLFxyXG4gICAgICAgICAgICAvLyAgaW5wdC5wb29sX2lkLFxyXG4gICAgICAgICAgICAvLyAgaW5wdC5vd25lcik7XHJcbiAgICAgICAgICAgIC8vY29uc3QgcmVzID0gYXdhaXQgU3VibWl0VHgodCwgXHJcbiAgICAgICAgICAgIC8vICBbZWNjLnByaXZhdGVUb1B1YmxpYyhpbnB0Lm93bmVyX3Bydl9rZXkpXSwgW2lucHQub3duZXJfcHJ2X2tleV0sIFxyXG4gICAgICAgICAgICAvLyAgdGhpcy5fdXJsKSBhcyBUcmFuc2FjdFJlc3VsdDtcclxuICAgICAgICAgICAgbGV0IHIgPSB7fTtcclxuICAgICAgICAgICAgLy9yLlR4SURfcmVtb3ZlRnJvbVdoaXRlTGlzdCA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVEYW8oaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB5aWVsZCB0aGlzLmFHZW4uY3JlYXRlRGFvKFt7IGFjdG9yOiBpbnB0LmF1dGhvciwgcGVybWlzc2lvbjogXCJhY3RpdmVcIiB9XSwgaW5wdC5hdXRob3IsIGlucHQuZGVzY3IpO1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCB0aGlzLlN1Ym1pdFR4KHQsIFtlb3Nqc19lY2NfcHJpdmVvc18xLmRlZmF1bHQucHJpdmF0ZVRvUHVibGljKGlucHQuYXV0aHByX3Bydl9rZXkpXSwgW2lucHQuYXV0aHByX3Bydl9rZXldKTtcclxuICAgICAgICAgICAgbGV0IHAgPSB7IG93bmVyOiBpbnB0LmF1dGhvciB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdldCBkYW8gYnkgb3duZXI6IFwiLCBKU09OLnN0cmluZ2lmeShwKSk7XHJcbiAgICAgICAgICAgIGxldCBxID0geWllbGQgdGhpcy5jQXBpLmdldERBT0J5T3duZXIocCk7XHJcbiAgICAgICAgICAgIGxldCB3ID0geWllbGQgcS5qc29uKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVjZWl2ZWQgZnJvbSBnZXREYW9CeU93bmVyXCIgKyBKU09OLnN0cmluZ2lmeSh3KSk7XHJcbiAgICAgICAgICAgIGxldCByID0ge307XHJcbiAgICAgICAgICAgIHIuVHhJRF9jcmVhdGVEYW8gPSByZXMudHJhbnNhY3Rpb25faWQ7XHJcbiAgICAgICAgICAgIHIuZGFvX2lkID0gdy5yb3dzWzBdLmlkO1xyXG4gICAgICAgICAgICB0aGlzLmRhb19pZCA9IHIuZGFvX2lkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRGFvUHJvcG9zYWwoaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB0LmRhb19pZCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB0LmRhb19vd25lciA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiREFPIHVuZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBwID0geyBvd25lcjogaW5wdC5kYW9fb3duZXIgfTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2V0IGRhbyBieSBvd25lcjogXCIsIEpTT04uc3RyaW5naWZ5KHApKTtcclxuICAgICAgICAgICAgICAgIGxldCBxID0geWllbGQgdGhpcy5jQXBpLmdldERBT0J5T3duZXIocCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdyA9IHlpZWxkIHEuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWNlaXZlZCBmcm9tIGdldERhb0J5T3duZXJcIiArIEpTT04uc3RyaW5naWZ5KHcpKTtcclxuICAgICAgICAgICAgICAgIGlucHQuZGFvX2lkID0gdy5yb3dzWzBdLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB5aWVsZCB0aGlzLmFHZW4uY3JlYXRlUHJvcG9zYWwoW3sgYWN0b3I6IGlucHQucHJvcG9zZXIsIHBlcm1pc3Npb246IFwiYWN0aXZlXCIgfV0sIGlucHQucHJvcG9zZXIsIGlucHQuZGFvX2lkLCBpbnB0LnRpdGxlLCBpbnB0LnN1bW1hcnksIGlucHQudXJsLCBpbnB0LnZvdGVfc3RhcnQsIGlucHQudm90ZV9lbmQpO1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCB0aGlzLlN1Ym1pdFR4KHQsIFtlb3Nqc19lY2NfcHJpdmVvc18xLmRlZmF1bHQucHJpdmF0ZVRvUHVibGljKGlucHQucHJvcG9zZXJfcHJ2X2tleSldLCBbaW5wdC5wcm9wb3Nlcl9wcnZfa2V5XSk7XHJcbiAgICAgICAgICAgIGxldCByID0ge307XHJcbiAgICAgICAgICAgIHIuVHhJRF9jcmVhdGVEYW9Qcm9wb3NhbCA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgci5kYW9faWQgPSBpbnB0LmRhb19pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhcHByb3ZlRGFvUHJvcG9zYWwoaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB0LmRhb19pZCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB0LmRhb19vd25lciA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiREFPIHVuZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBwID0geyBvd25lcjogaW5wdC5kYW9fb3duZXIgfTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2V0IGRhbyBieSBvd25lcjogXCIsIEpTT04uc3RyaW5naWZ5KHApKTtcclxuICAgICAgICAgICAgICAgIGxldCBxID0geWllbGQgdGhpcy5jQXBpLmdldERBT0J5T3duZXIocCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdyA9IHlpZWxkIHEuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWNlaXZlZCBmcm9tIGdldERhb0J5T3duZXJcIiArIEpTT04uc3RyaW5naWZ5KHcpKTtcclxuICAgICAgICAgICAgICAgIGlucHQuZGFvX2lkID0gdy5yb3dzWzBdLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB0LnByb3Bvc2FsX2lkID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHQucHJvcG9zYWxfYXV0aG9yID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJQcm9wb3NhbCB1bmRlZmluZWQgbmVpdGhlciBJRCBub3IgbmFtZVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBwID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhb0lEOiBpbnB0LmRhb19pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3Bvc2VyOiBpbnB0LnByb3Bvc2FsX2F1dGhvclxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2V0IHByb3Bvc2FsIGJ5IGF1dGhvcjogXCIsIEpTT04uc3RyaW5naWZ5KHApKTtcclxuICAgICAgICAgICAgICAgIGxldCBxID0geWllbGQgdGhpcy5jQXBpLmdldFByb3Bvc2FsQnlQcm9wb3NlcihwKTtcclxuICAgICAgICAgICAgICAgIGxldCB3ID0geWllbGQgcS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlY2VpdmVkIGZyb20gZ2V0UHJvcG9zYWxCeU93bmVyXCIgKyBKU09OLnN0cmluZ2lmeSh3KSk7XHJcbiAgICAgICAgICAgICAgICBpbnB0LnByb3Bvc2FsX2lkID0gdy5yb3dzWzBdLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB5aWVsZCB0aGlzLmFHZW4uYXBwcm92ZVByb3Bvc2FsKFt7IGFjdG9yOiBpbnB0LmFwcHJvdmVyLCBwZXJtaXNzaW9uOiBcImFjdGl2ZVwiIH1dLCBpbnB0LmRhb19pZCwgaW5wdC5wcm9wb3NhbF9pZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHlpZWxkIHRoaXMuU3VibWl0VHgodCwgW2Vvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5wcml2YXRlVG9QdWJsaWMoaW5wdC5hcHByb3Zlcl9wcnZfa2V5KV0sIFtpbnB0LmFwcHJvdmVyX3Bydl9rZXldKTtcclxuICAgICAgICAgICAgbGV0IHIgPSB7fTtcclxuICAgICAgICAgICAgci5UeElEX2FwcHJvdmVEYW9Qcm9wb3NhbCA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBleGVjdXRlRGFvUHJvcG9zYWwoaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB0LmRhb19pZCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB0LmRhb19vd25lciA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiREFPIHVuZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBxID0geWllbGQgdGhpcy5jQXBpLmdldERBT0J5T3duZXIoeyBvd25lcjogaW5wdC5kYW9fb3duZXIgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdyA9IHlpZWxkIHEuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWNlaXZlZCBmcm9tIGdldERhb0J5T3duZXJcIiArIEpTT04uc3RyaW5naWZ5KHcpKTtcclxuICAgICAgICAgICAgICAgIGlucHQuZGFvX2lkID0gdy5yb3dzWzBdLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB0LnByb3Bvc2FsX2lkID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHQucHJvcG9zYWxfYXV0aG9yID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJQcm9wb3NhbCB1bmRlZmluZWQgbmVpdGhlciBJRCBub3IgbmFtZVwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBwID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhb0lEOiBpbnB0LmRhb19pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3Bvc2VyOiBpbnB0LnByb3Bvc2FsX2F1dGhvclxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2V0IHByb3Bvc2FsIGJ5IGF1dGhvcjogXCIsIEpTT04uc3RyaW5naWZ5KHApKTtcclxuICAgICAgICAgICAgICAgIGxldCBxID0geWllbGQgdGhpcy5jQXBpLmdldFByb3Bvc2FsQnlQcm9wb3NlcihwKTtcclxuICAgICAgICAgICAgICAgIGxldCB3ID0geWllbGQgcS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlY2VpdmVkIGZyb20gZ2V0UHJvcG9zYWxCeU93bmVyXCIgKyBKU09OLnN0cmluZ2lmeSh3KSk7XHJcbiAgICAgICAgICAgICAgICBpbnB0LnByb3Bvc2FsX2lkID0gdy5yb3dzWzBdLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB5aWVsZCB0aGlzLmFHZW4uZXhlY3V0ZVByb3Bvc2FsKFt7IGFjdG9yOiBpbnB0LmV4ZWMsIHBlcm1pc3Npb246IFwiYWN0aXZlXCIgfV0sIGlucHQuZGFvX2lkLCBpbnB0LnByb3Bvc2FsX2lkKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgdGhpcy5TdWJtaXRUeCh0LCBbZW9zanNfZWNjX3ByaXZlb3NfMS5kZWZhdWx0LnByaXZhdGVUb1B1YmxpYyhpbnB0LmV4ZWNfcHJ2X2tleSldLCBbaW5wdC5leGVjX3Bydl9rZXldKTtcclxuICAgICAgICAgICAgbGV0IHIgPSB7fTtcclxuICAgICAgICAgICAgci5UeElEX2V4ZWN1dGVEYW9Qcm9wb3NhbCA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXREYW9Qcm9wb3NhbHMoaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB0LmRhb19pZCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB0LmRhb19vd25lciA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgICAgICAgICAgbGV0IHEgPSB5aWVsZCB0aGlzLmNBcGkuZ2V0REFPQnlPd25lcih7IG93bmVyOiBpbnB0LmRhb19vd25lciB9KTtcclxuICAgICAgICAgICAgICAgIGxldCB3ID0geWllbGQgcS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlY2VpdmVkIGZyb20gZ2V0RGFvQnlPd25lclwiICsgSlNPTi5zdHJpbmdpZnkodykpO1xyXG4gICAgICAgICAgICAgICAgaW5wdC5kYW9faWQgPSAody5yb3dzWzBdLmlkKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB0LnByb3Bvc2FsX2lkID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0ID0geyBkYW9JRDogaW5wdC5kYW9faWQsIHByb3Bvc2VyOiBpbnB0LnByb3Bvc2FsX2F1dGhvciB9O1xyXG4gICAgICAgICAgICAgICAgbGV0IHEgPSB5aWVsZCB0aGlzLmNBcGkuZ2V0UHJvcG9zYWxCeVByb3Bvc2VyKG9wdCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdyA9IHlpZWxkIHEuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWNlaXZlZCBmcm9tIGdldFByb3Bvc2FsYnlQcm9wb3NlclwiICsgSlNPTi5zdHJpbmdpZnkodykpO1xyXG4gICAgICAgICAgICAgICAgaW5wdC5wcm9wb3NhbF9pZCA9ICh3LnJvd3NbMF0uaWQpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJHZXQgcHJvcG9zYWxzIGZvciBkYW8gXCIsIEpTT04uc3RyaW5naWZ5KGlucHQuZGFvX2lkKSk7XHJcbiAgICAgICAgICAgIGxldCBxID0geWllbGQgdGhpcy5jQXBpLmdldFByb3Bvc2FsQnlJRCh7IGRhb0lEOiBpbnB0LmRhb19pZCwgaWQ6IGlucHQucHJvcG9zYWxfaWQgfSk7XHJcbiAgICAgICAgICAgIGxldCB3ID0geWllbGQgcS5qc29uKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVjZWl2ZWQgZnJvbSBnZXRQcm9wb3NhbEJ5SURcIiArIEpTT04uc3RyaW5naWZ5KHcucm93cykpO1xyXG4gICAgICAgICAgICByZXR1cm4gdy5yb3dzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdm90ZU9uRGFvUHJvcG9zYWwoaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVm90ZSBmb3IgREFPIHByb3Bvc2FsXCIsIEpTT04uc3RyaW5naWZ5KGlucHQuZGFvX2lkKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB5aWVsZCB0aGlzLmFHZW4udm90ZShbeyBhY3RvcjogaW5wdC52b3RlciwgcGVybWlzc2lvbjogXCJhY3RpdmVcIiB9XSwgaW5wdC52b3RlciwgaW5wdC5xdWFudGl0eSwgaW5wdC5wcm9wb3NhbF90eXBlIHx8IFwic3RhbmRhcnRcIiwgaW5wdC5kYW9faWQsIGlucHQucHJvcG9zYWxfaWQsIGlucHQub3B0aW9uKTtcclxuICAgICAgICAgICAgLy8gbGV0IHcgPSBhd2FpdCBxLmpzb24oKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgdGhpcy5TdWJtaXRUeCh0LCBbZW9zanNfZWNjX3ByaXZlb3NfMS5kZWZhdWx0LnByaXZhdGVUb1B1YmxpYyhpbnB0LnZvdGVyX3Bydl9rZXkpXSwgW2lucHQudm90ZXJfcHJ2X2tleV0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlY2VpdmVkIGZyb20gVm90ZUZvckRhb1Byb3Bvc2FsXCIgKyBKU09OLnN0cmluZ2lmeShyZXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgVHhJRF92b3RlRm9yRGFvUHJvcG9zYWw6IHJlcy50cmFuc2FjdGlvbl9pZCB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNaW50IGFuIGFzc2V0XHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGUgUG9vbCB0cmFuc2FjdGlvbiBpZFxyXG4gICAgICovXHJcbiAgICBtaW50QXNzZXQoaW5wdCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBkID0gMTIgLSBpbnB0LmNyZWF0b3IubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoaW5wdC5jb2xfbmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBpbnB0LmNvbF9uYW1lID0gKDAsIHV0aWxzXzEubm9ybWFsaXplVXNlcm5hbWUpKGlucHQuY3JlYXRvciwgXCJ6XCIpO1xyXG4gICAgICAgICAgICBpZiAoaW5wdC5zY2hfbmFtZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBpbnB0LnNjaF9uYW1lID0gKDAsIHV0aWxzXzEubm9ybWFsaXplVXNlcm5hbWUpKGlucHQuY3JlYXRvciwgXCJ3XCIpO1xyXG4gICAgICAgICAgICBpZiAoaW5wdC50bXBsX2lkID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIGlucHQudG1wbF9pZCA9IC0xO1xyXG4gICAgICAgICAgICBpZiAoaW5wdC5pbW11dGFibGVfZGF0YSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBpbnB0LmltbXV0YWJsZV9kYXRhID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiAnbmFtZScsIHZhbHVlOiBbJ3N0cmluZycsIGlucHQuY3JlYXRvciArICdfJyArIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCldIH1cclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmIChpbnB0Lm11dGFibGVfZGF0YSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBpbnB0Lm11dGFibGVfZGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5zZGtHZW4ubWludEFzc2V0KGlucHQuY3JlYXRvciwgaW5wdC5wYXllciwgaW5wdC5jb2xfbmFtZSwgaW5wdC5zY2hfbmFtZSwgaW5wdC50bXBsX2lkLCBpbnB0LmltbXV0YWJsZV9kYXRhLCBpbnB0Lm11dGFibGVfZGF0YSk7XHJcbiAgICAgICAgICAgIGxldCByZXMgPSB5aWVsZCB0aGlzLlN1Ym1pdFR4KFt0XSwgW2Vvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5wcml2YXRlVG9QdWJsaWMoaW5wdC5wYXllcl9wcnZfa2V5KV0sIFtpbnB0LnBheWVyX3Bydl9rZXldKTtcclxuICAgICAgICAgICAgbGV0IHIgPSB7fTtcclxuICAgICAgICAgICAgci5UeElEX21pbnRBc3NldCA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0cmFzYWN0aW9uIGRhdGFcclxuICAgICAqIEByZXR1cm5zIFR4IGRhdGFcclxuICAgICAqL1xyXG4gICAgZ2V0VHhEYXRhKHR4aWQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgdHhpID0geWllbGQgdGhpcy5ocnBjLmdldF90cmFuc2FjdGlvbih0eGlkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codHhpKTsgLy8gZ2V0IHRlbXBsYXRlIG51bWJlciAgdHhpLmFjdGlvbnNbMV0uYWN0LmRhdGEudGVtcGxhdGVfaWRcclxuICAgICAgICAgICAgcmV0dXJuIHR4aTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFjY291bnQgYmFsYW5jZVxyXG4gICAgICogQHJldHVybnMgVHggZGF0YVxyXG4gICAgICovXHJcbiAgICBnZXRBY2NvdW50QmFsYW5jZShhY2MpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAoYWNjLmNvbnRyYWN0ID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIGFjYy5jb250cmFjdCA9ICdlb3Npby50b2tlbic7XHJcbiAgICAgICAgICAgIGxldCByYyA9IHsgYWNjX2JhbGFuY2VzOiBbXSB9O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHQgPSB5aWVsZCAoMCwgY3Jvc3NfZmV0Y2hfMS5kZWZhdWx0KShgaHR0cHM6Ly9ub2Rlb3MtZGV2Lm5ld2NvaW4ub3JnL3YxL2NoYWluL2dldF9jdXJyZW5jeV9iYWxhbmNlYCwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYWNjLm93bmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBhY2MuY29udHJhY3RcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmMuYWNjX2JhbGFuY2VzID0geWllbGQgdC5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1xcbkNhdWdodCBleGNlcHRpb246ICcgKyBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgZW9zanNfMS5ScGNFcnJvcilcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlLmpzb24sIG51bGwsIDIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2ZlciBOQ08gYmV0d2VlbiBhY2NvdW50c1xyXG4gICAgICogQHJldHVybnMgVHJhbnNmZXIgdHJhbnNhY3Rpb24gaWRcclxuICAgICAqL1xyXG4gICAgX3R4QmFsYW5jZShjb250cmFjdCwgaW5wdCwgbWVtbyA9IFwiXCIpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICBsZXQgdHggPSB0aGlzLnNka0dlbi50eEJhbGFuY2UoY29udHJhY3QsIGlucHQucGF5ZXIsIGlucHQudG8sIGlucHQuYW10LCBtZW1vKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IHlpZWxkIHRoaXMuU3VibWl0VHgoW3R4XSwgW2Vvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5wcml2YXRlVG9QdWJsaWMoaW5wdC5wYXllcl9wcnZfa2V5KV0sIFtpbnB0LnBheWVyX3Bydl9rZXldKTtcclxuICAgICAgICAgICAgci5UeElEID0gcmVzLnRyYW5zYWN0aW9uX2lkO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdHhHTkNPQmFsYW5jZShpbnB0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgciA9IHlpZWxkIHRoaXMuX3R4QmFsYW5jZSh0aGlzLl9zZXJ2aWNlcy5tYWluZGFvX2NvbnRyYWN0LCBpbnB0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHIuVHhJRDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHR4TkNPQmFsYW5jZShpbnB0KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgciA9IHlpZWxkIHRoaXMuX3R4QmFsYW5jZSh0aGlzLl9zZXJ2aWNlcy50b2tlbl9jb250cmFjdCwgaW5wdCk7XHJcbiAgICAgICAgICAgIHJldHVybiByLlR4SUQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZmVyIE5DTyBiZXR3ZWVuIGFjY291bnRzXHJcbiAgICAgKiBAcmV0dXJucyBUcmFuc2ZlciB0cmFuc2FjdGlvbiBpZFxyXG4gICAgICovXHJcbiAgICB0eE5jb0JhbGFuY2UoaW5wdCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBsZXQgciA9IHt9O1xyXG4gICAgICAgICAgICBsZXQgdHggPSB0aGlzLnNka0dlbi50eE5jb0JhbGFuY2UoaW5wdC5wYXllciwgaW5wdC50bywgaW5wdC5hbXQsIChfYSA9IGlucHQubWVtbykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGlucHQubWVtbyA9IFwiXCIpKTtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IHlpZWxkIHRoaXMuU3VibWl0VHgoW3R4XSwgW2Vvc2pzX2VjY19wcml2ZW9zXzEuZGVmYXVsdC5wcml2YXRlVG9QdWJsaWMoaW5wdC5wYXllcl9wcnZfa2V5KV0sIFtpbnB0LnBheWVyX3Bydl9rZXldKTtcclxuICAgICAgICAgICAgci5UeElEX3R4TmNvQmFsYW5jZSA9IHJlcy50cmFuc2FjdGlvbl9pZDtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAqIEdldCBwb29sIGluZm9cclxuICAgKiBAcmV0dXJucyBUeCBkYXRhXHJcbiAgICovXHJcbiAgICBnZXRQb29sSW5mbyhwYXlsb2FkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgYXBpID0gbmV3IG5ld2NvaW5fcG9vbHNfanNfMS5ScGNBcGkoXCJodHRwczovL25vZGVvcy1kZXYubmV3Y29pbi5vcmdcIiwgXCJwb29sczIubmNvXCIsIGNyb3NzX2ZldGNoXzEuZGVmYXVsdCk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmbiA9IHBheWxvYWQuY29kZSA/IFwiZ2V0UG9vbEJ5Q29kZVwiIDogXCJnZXRQb29sQnlPd25lclwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IHEgPSB5aWVsZCBhcGlbZm5dKHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHQgPSB5aWVsZCBxLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codC5yb3dzWzBdKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codC5yb3dzWzBdLnRvdGFsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnXFxuQ2F1Z2h0IGV4Y2VwdGlvbjogJyArIGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBlb3Nqc18xLlJwY0Vycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGUuanNvbiwgbnVsbCwgMikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICAgICAgYGA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBTdWJtaXRUeChhY3Rpb25zLCBwdWJsaWNfa2V5cywgLy8gdGVzdG5ldCBbXCJFT1M1UFU5MkN1cHp4V0V1dlRNY0NOcjNHNjlyNFZjaDNibVlEcmN6TlNIeDVMYk5SWTdOVFwiXVxyXG4gICAgcHJpdmF0ZV9rZXlzIC8vIHRlc3RuZXQgW1wiNUtkUndNVXJrRnNzSzJuVVhBU25oempzTjFyTk5peThiWEFKb0hZYkJnSk1MemppWEhWXCJdXHJcbiAgICApIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBzaWduYXR1cmVQcm92aWRlciA9IG5ldyBlb3Nqc19qc3NpZ18xLkpzU2lnbmF0dXJlUHJvdmlkZXIocHJpdmF0ZV9rZXlzKTtcclxuICAgICAgICAgICAgc2lnbmF0dXJlUHJvdmlkZXIuYXZhaWxhYmxlS2V5cyA9IHB1YmxpY19rZXlzO1xyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgcnBjID0gdGhpcy5ub2Rlb3NfcnBjO1xyXG4gICAgICAgICAgICBjb25zdCBhcGkgPSBuZXcgZW9zanNfMS5BcGkoeyBycGMsIHNpZ25hdHVyZVByb3ZpZGVyIH0pOyAvL3JlcXVpcmVkIHRvIHN1Ym1pdCB0cmFuc2FjdGlvbnNcclxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHlpZWxkIHJwYy5nZXRfaW5mbygpO1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0QmxvY2tJbmZvID0geWllbGQgcnBjLmdldF9ibG9jayhpbmZvLmxhc3RfaXJyZXZlcnNpYmxlX2Jsb2NrX251bSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR6T2ZmID0gbmV3IERhdGUoaW5mby5oZWFkX2Jsb2NrX3RpbWUpLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgICAgIHZhciB0ID0gbmV3IERhdGUoKG5ldyBEYXRlKGluZm8uaGVhZF9ibG9ja190aW1lKSkuZ2V0VGltZSgpICsgMTAgKiA2MCAqIDEwMDAgLSB0ek9mZiAqIDEwMDAgKiA2MCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAtMSk7IC8vKzEwbVxyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbk9iaiA9IHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uOiB0LFxyXG4gICAgICAgICAgICAgICAgcmVmX2Jsb2NrX3ByZWZpeDogbGFzdEJsb2NrSW5mby5yZWZfYmxvY2tfcHJlZml4LFxyXG4gICAgICAgICAgICAgICAgcmVmX2Jsb2NrX251bTogbGFzdEJsb2NrSW5mby5ibG9ja19udW0gJiAweGZmZmYsIC8vIDIyNzc0XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSB5aWVsZCBhcGkuc2VyaWFsaXplQWN0aW9ucyh0cmFuc2FjdGlvbk9iai5hY3Rpb25zKTtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRyYW5zYWN0aW9uT2JqKSwgeyBhY3Rpb25zOiBhIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkVHJhbnNhY3Rpb24gPSBhcGkuc2VyaWFsaXplVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pO1xyXG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGVLZXlzID0geWllbGQgYXBpLnNpZ25hdHVyZVByb3ZpZGVyLmdldEF2YWlsYWJsZUtleXMoKTtcclxuICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRLZXlzID0geWllbGQgYXBpLmF1dGhvcml0eVByb3ZpZGVyLmdldFJlcXVpcmVkS2V5cyh7IHRyYW5zYWN0aW9uLCBhdmFpbGFibGVLZXlzIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBhYmlzID0geWllbGQgYXBpLmdldFRyYW5zYWN0aW9uQWJpcyh0cmFuc2FjdGlvbik7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHB1c2hUcmFuc2FjdGlvbkFyZ3M6IFB1c2hUcmFuc2FjdGlvbkFyZ3MgPSB7IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbiwgc2lnbmF0dXJlcyB9O1xyXG4gICAgICAgICAgICBjb25zdCBwdXNoVHJhbnNhY3Rpb25BcmdzID0geWllbGQgYXBpLnNpZ25hdHVyZVByb3ZpZGVyLnNpZ24oe1xyXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogaW5mby5jaGFpbl9pZCxcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkS2V5czogcmVxdWlyZWRLZXlzLFxyXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZFRyYW5zYWN0aW9uOiBzZXJpYWxpemVkVHJhbnNhY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkQ29udGV4dEZyZWVEYXRhOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBhYmlzOiBhYmlzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic2lnbmVkIHRyYW5zYWN0aW9uOiBcIiArIEpTT04uc3RyaW5naWZ5KHB1c2hUcmFuc2FjdGlvbkFyZ3MpKTtcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgbGV0IHRyICA9IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbi5idWZmZXIudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgbGV0IGVjY3N0ID0gZWNjLnNpZ24oc2VyaWFsaXplZFRyYW5zYWN0aW9uLCBwcml2YXRlX2tleXNbMF0pO1xyXG4gICAgICAgICAgICBsZXQgcHViX2Zyb21fcHJ2ID0gZWNjLnByaXZhdGVUb1B1YmxpYyhwcml2YXRlX2tleXNbMF0pO1xyXG4gICAgICAgICAgICBsZXQgc2lnID0gcHVzaFRyYW5zYWN0aW9uQXJncy5zaWduYXR1cmVzWzBdO1xyXG4gICAgICAgICAgICBsZXQga2V5ID0gZWNjLnJlY292ZXIoc2lnLCB0cik7XHJcbiAgICAgICAgICAgIGxldCBjID0gZWNjLnZlcmlmeShzaWcsIHRyLCBwdWJsaWNfa2V5c1swXSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2lnbmF0dXJlIHZlcmlmaWNhdGlvbjogcmV0dXJuICVkXCIsIGMpKi9cclxuICAgICAgICAgICAgcmV0dXJuIGFwaS5wdXNoU2lnbmVkVHJhbnNhY3Rpb24ocHVzaFRyYW5zYWN0aW9uQXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICA7XHJcbn1cclxuZXhwb3J0cy5OQ09fQmxvY2tjaGFpbkFQSSA9IE5DT19CbG9ja2NoYWluQVBJO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ERC721_schema = exports.default_schema = void 0;\r\nexports.default_schema = [\r\n    { name: 'name', type: \"string\" },\r\n    { name: 'description', type: \"string\" },\r\n    { name: 'image', type: 'string' },\r\n    { name: 'external_url', type: 'string' },\r\n    { name: 'content_type', type: 'string' },\r\n    { name: 'content', type: 'string' },\r\n    { name: 'license', type: 'string' }\r\n];\r\n// https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md\r\nexports.ERC721_schema = [\r\n    { name: 'name', type: \"string\" },\r\n    { name: 'description', type: \"string\" },\r\n    { name: 'image', type: 'string' },\r\n];\r\n// https://docs.opensea.io/docs/metadata-standards\r\n// export const OpenSea_schema = [\r\n//]\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdHlwZXMudHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTkNPX0Jsb2NrY2hhaW5BUEkvLi9zcmMvdHlwZXMudHM/MTFiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkVSQzcyMV9zY2hlbWEgPSBleHBvcnRzLmRlZmF1bHRfc2NoZW1hID0gdm9pZCAwO1xyXG5leHBvcnRzLmRlZmF1bHRfc2NoZW1hID0gW1xyXG4gICAgeyBuYW1lOiAnbmFtZScsIHR5cGU6IFwic3RyaW5nXCIgfSxcclxuICAgIHsgbmFtZTogJ2Rlc2NyaXB0aW9uJywgdHlwZTogXCJzdHJpbmdcIiB9LFxyXG4gICAgeyBuYW1lOiAnaW1hZ2UnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgeyBuYW1lOiAnZXh0ZXJuYWxfdXJsJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgIHsgbmFtZTogJ2NvbnRlbnRfdHlwZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICB7IG5hbWU6ICdjb250ZW50JywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgIHsgbmFtZTogJ2xpY2Vuc2UnLCB0eXBlOiAnc3RyaW5nJyB9XHJcbl07XHJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS9FSVBzL2Jsb2IvbWFzdGVyL0VJUFMvZWlwLTcyMS5tZFxyXG5leHBvcnRzLkVSQzcyMV9zY2hlbWEgPSBbXHJcbiAgICB7IG5hbWU6ICduYW1lJywgdHlwZTogXCJzdHJpbmdcIiB9LFxyXG4gICAgeyBuYW1lOiAnZGVzY3JpcHRpb24nLCB0eXBlOiBcInN0cmluZ1wiIH0sXHJcbiAgICB7IG5hbWU6ICdpbWFnZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbl07XHJcbi8vIGh0dHBzOi8vZG9jcy5vcGVuc2VhLmlvL2RvY3MvbWV0YWRhdGEtc3RhbmRhcmRzXHJcbi8vIGV4cG9ydCBjb25zdCBPcGVuU2VhX3NjaGVtYSA9IFtcclxuLy9dXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/types.ts\n");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.normalizeUsername = void 0;\r\nconst normalizeUsername = (username, r) => {\r\n    return username.replace(/\\./g, r + r.repeat(12 - username.length));\r\n};\r\nexports.normalizeUsername = normalizeUsername;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMudHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9OQ09fQmxvY2tjaGFpbkFQSS8uL3NyYy91dGlscy50cz9jNzExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMubm9ybWFsaXplVXNlcm5hbWUgPSB2b2lkIDA7XHJcbmNvbnN0IG5vcm1hbGl6ZVVzZXJuYW1lID0gKHVzZXJuYW1lLCByKSA9PiB7XHJcbiAgICByZXR1cm4gdXNlcm5hbWUucmVwbGFjZSgvXFwuL2csIHIgKyByLnJlcGVhdCgxMiAtIHVzZXJuYW1lLmxlbmd0aCkpO1xyXG59O1xyXG5leHBvcnRzLm5vcm1hbGl6ZVVzZXJuYW1lID0gbm9ybWFsaXplVXNlcm5hbWU7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils.ts\n");

/***/ }),

/***/ "../newcoin.pool-js/src/actions/index.ts":
/*!***********************************************!*\
  !*** ../newcoin.pool-js/src/actions/index.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ActionGenerator = void 0;\r\n/* tslint:disable:variable-name */\r\nclass ActionGenerator {\r\n    constructor(contract, token_contract) {\r\n        this.contract = contract;\r\n        this.token_contract = token_contract;\r\n    }\r\n    open(authorization, owner, symbol, payer) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this._pack(this.contract, authorization, \"open\", {\r\n                owner,\r\n                symbol,\r\n                payer\r\n            });\r\n        });\r\n    }\r\n    close(authorization, owner, symbol) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this._pack(this.contract, authorization, \"close\", {\r\n                owner,\r\n                symbol\r\n            });\r\n        });\r\n    }\r\n    instunstake(authorization, from, quantity) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this._pack(this.contract, authorization, \"instunstake\", {\r\n                from,\r\n                quantity\r\n            });\r\n        });\r\n    }\r\n    dldunstake(authorization, from, quantity) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this._pack(this.contract, authorization, \"dldunstake\", {\r\n                from,\r\n                quantity\r\n            });\r\n        });\r\n    }\r\n    redeem(authorization, from, id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this._pack(this.contract, authorization, \"redeem\", {\r\n                from,\r\n                id\r\n            });\r\n        });\r\n    }\r\n    stake(authorization, from, quantity) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this._pack(this.token_contract, authorization, \"transfer\", {\r\n                from: from,\r\n                to: this.contract,\r\n                quantity: quantity,\r\n                memo: \"stake\"\r\n            });\r\n        });\r\n    }\r\n    _pack(account, authorization, name, data) {\r\n        return [{ account, name, authorization, data }];\r\n    }\r\n}\r\nexports.ActionGenerator = ActionGenerator;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbmV3Y29pbi5wb29sLWpzL3NyYy9hY3Rpb25zL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9OQ09fQmxvY2tjaGFpbkFQSS8uLi9uZXdjb2luLnBvb2wtanMvc3JjL2FjdGlvbnMvaW5kZXgudHM/MmE2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQWN0aW9uR2VuZXJhdG9yID0gdm9pZCAwO1xyXG4vKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXHJcbmNsYXNzIEFjdGlvbkdlbmVyYXRvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250cmFjdCwgdG9rZW5fY29udHJhY3QpIHtcclxuICAgICAgICB0aGlzLmNvbnRyYWN0ID0gY29udHJhY3Q7XHJcbiAgICAgICAgdGhpcy50b2tlbl9jb250cmFjdCA9IHRva2VuX2NvbnRyYWN0O1xyXG4gICAgfVxyXG4gICAgb3BlbihhdXRob3JpemF0aW9uLCBvd25lciwgc3ltYm9sLCBwYXllcikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWNrKHRoaXMuY29udHJhY3QsIGF1dGhvcml6YXRpb24sIFwib3BlblwiLCB7XHJcbiAgICAgICAgICAgICAgICBvd25lcixcclxuICAgICAgICAgICAgICAgIHN5bWJvbCxcclxuICAgICAgICAgICAgICAgIHBheWVyXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoYXV0aG9yaXphdGlvbiwgb3duZXIsIHN5bWJvbCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWNrKHRoaXMuY29udHJhY3QsIGF1dGhvcml6YXRpb24sIFwiY2xvc2VcIiwge1xyXG4gICAgICAgICAgICAgICAgb3duZXIsXHJcbiAgICAgICAgICAgICAgICBzeW1ib2xcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpbnN0dW5zdGFrZShhdXRob3JpemF0aW9uLCBmcm9tLCBxdWFudGl0eSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWNrKHRoaXMuY29udHJhY3QsIGF1dGhvcml6YXRpb24sIFwiaW5zdHVuc3Rha2VcIiwge1xyXG4gICAgICAgICAgICAgICAgZnJvbSxcclxuICAgICAgICAgICAgICAgIHF1YW50aXR5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZGxkdW5zdGFrZShhdXRob3JpemF0aW9uLCBmcm9tLCBxdWFudGl0eSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWNrKHRoaXMuY29udHJhY3QsIGF1dGhvcml6YXRpb24sIFwiZGxkdW5zdGFrZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZWRlZW0oYXV0aG9yaXphdGlvbiwgZnJvbSwgaWQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFjayh0aGlzLmNvbnRyYWN0LCBhdXRob3JpemF0aW9uLCBcInJlZGVlbVwiLCB7XHJcbiAgICAgICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICAgICAgaWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdGFrZShhdXRob3JpemF0aW9uLCBmcm9tLCBxdWFudGl0eSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWNrKHRoaXMudG9rZW5fY29udHJhY3QsIGF1dGhvcml6YXRpb24sIFwidHJhbnNmZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcclxuICAgICAgICAgICAgICAgIHRvOiB0aGlzLmNvbnRyYWN0LFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5LFxyXG4gICAgICAgICAgICAgICAgbWVtbzogXCJzdGFrZVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX3BhY2soYWNjb3VudCwgYXV0aG9yaXphdGlvbiwgbmFtZSwgZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBbeyBhY2NvdW50LCBuYW1lLCBhdXRob3JpemF0aW9uLCBkYXRhIH1dO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQWN0aW9uR2VuZXJhdG9yID0gQWN0aW9uR2VuZXJhdG9yO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../newcoin.pool-js/src/actions/index.ts\n");

/***/ }),

/***/ "../newcoin.pool-js/src/api/index.ts":
/*!*******************************************!*\
  !*** ../newcoin.pool-js/src/api/index.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nclass RpcApi {\r\n    constructor(nodeos_url, contract, fetch) {\r\n        this.nodeos_url = nodeos_url;\r\n        this.contract = contract;\r\n        this.fetch = fetch;\r\n    }\r\n    getCurrencyStats(payload) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.fetch(`${this.nodeos_url}/v1/chain/get_currency_stats`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(payload),\r\n            });\r\n        });\r\n    }\r\n    getCurrencyBalance(payload) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.fetch(`${this.nodeos_url}/v1/chain/get_currency_balance`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(payload),\r\n            });\r\n        });\r\n    }\r\n    getTableRows(payload) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.fetch(`${this.nodeos_url}/v1/chain/get_table_rows`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(payload),\r\n            });\r\n        });\r\n    }\r\n    getUnstake(opts) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.getTableRows({\r\n                json: true,\r\n                code: this.contract,\r\n                scope: opts.owner,\r\n                table: \"unstakes\",\r\n                table_key: opts.id,\r\n                lower_bound: opts.id,\r\n                upper_bound: opts.id,\r\n                key_type: \"i64\",\r\n                index_position: \"1\",\r\n            });\r\n        });\r\n    }\r\n}\r\nexports[\"default\"] = RpcApi;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbmV3Y29pbi5wb29sLWpzL3NyYy9hcGkvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9OQ09fQmxvY2tjaGFpbkFQSS8uLi9uZXdjb2luLnBvb2wtanMvc3JjL2FwaS9pbmRleC50cz8xMTA0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY2xhc3MgUnBjQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKG5vZGVvc191cmwsIGNvbnRyYWN0LCBmZXRjaCkge1xyXG4gICAgICAgIHRoaXMubm9kZW9zX3VybCA9IG5vZGVvc191cmw7XHJcbiAgICAgICAgdGhpcy5jb250cmFjdCA9IGNvbnRyYWN0O1xyXG4gICAgICAgIHRoaXMuZmV0Y2ggPSBmZXRjaDtcclxuICAgIH1cclxuICAgIGdldEN1cnJlbmN5U3RhdHMocGF5bG9hZCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLmZldGNoKGAke3RoaXMubm9kZW9zX3VybH0vdjEvY2hhaW4vZ2V0X2N1cnJlbmN5X3N0YXRzYCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldEN1cnJlbmN5QmFsYW5jZShwYXlsb2FkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuZmV0Y2goYCR7dGhpcy5ub2Rlb3NfdXJsfS92MS9jaGFpbi9nZXRfY3VycmVuY3lfYmFsYW5jZWAsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRUYWJsZVJvd3MocGF5bG9hZCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLmZldGNoKGAke3RoaXMubm9kZW9zX3VybH0vdjEvY2hhaW4vZ2V0X3RhYmxlX3Jvd3NgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0VW5zdGFrZShvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGFibGVSb3dzKHtcclxuICAgICAgICAgICAgICAgIGpzb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiB0aGlzLmNvbnRyYWN0LFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6IG9wdHMub3duZXIsXHJcbiAgICAgICAgICAgICAgICB0YWJsZTogXCJ1bnN0YWtlc1wiLFxyXG4gICAgICAgICAgICAgICAgdGFibGVfa2V5OiBvcHRzLmlkLFxyXG4gICAgICAgICAgICAgICAgbG93ZXJfYm91bmQ6IG9wdHMuaWQsXHJcbiAgICAgICAgICAgICAgICB1cHBlcl9ib3VuZDogb3B0cy5pZCxcclxuICAgICAgICAgICAgICAgIGtleV90eXBlOiBcImk2NFwiLFxyXG4gICAgICAgICAgICAgICAgaW5kZXhfcG9zaXRpb246IFwiMVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBScGNBcGk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../newcoin.pool-js/src/api/index.ts\n");

/***/ }),

/***/ "../newcoin.pool-js/src/index.ts":
/*!***************************************!*\
  !*** ../newcoin.pool-js/src/index.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.RpcApi = exports.ActionGenerator = void 0;\r\nconst actions_1 = __webpack_require__(/*! ./actions */ \"../newcoin.pool-js/src/actions/index.ts\");\r\nObject.defineProperty(exports, \"ActionGenerator\", ({ enumerable: true, get: function () { return actions_1.ActionGenerator; } }));\r\nconst api_1 = __importDefault(__webpack_require__(/*! ./api */ \"../newcoin.pool-js/src/api/index.ts\"));\r\nexports.RpcApi = api_1.default;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbmV3Y29pbi5wb29sLWpzL3NyYy9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL05DT19CbG9ja2NoYWluQVBJLy4uL25ld2NvaW4ucG9vbC1qcy9zcmMvaW5kZXgudHM/YmFhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlJwY0FwaSA9IGV4cG9ydHMuQWN0aW9uR2VuZXJhdG9yID0gdm9pZCAwO1xyXG5jb25zdCBhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi9hY3Rpb25zXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJBY3Rpb25HZW5lcmF0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFjdGlvbnNfMS5BY3Rpb25HZW5lcmF0b3I7IH0gfSk7XHJcbmNvbnN0IGFwaV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2FwaVwiKSk7XHJcbmV4cG9ydHMuUnBjQXBpID0gYXBpXzEuZGVmYXVsdDtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../newcoin.pool-js/src/index.ts\n");

/***/ }),

/***/ "@eoscafe/hyperion":
/*!************************************!*\
  !*** external "@eoscafe/hyperion" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("@eoscafe/hyperion");

/***/ }),

/***/ "@newcoin-foundation/newcoin.daos-js":
/*!******************************************************!*\
  !*** external "@newcoin-foundation/newcoin.daos-js" ***!
  \******************************************************/
/***/ ((module) => {

module.exports = require("@newcoin-foundation/newcoin.daos-js");

/***/ }),

/***/ "@newcoin-foundation/newcoin.pool-js":
/*!******************************************************!*\
  !*** external "@newcoin-foundation/newcoin.pool-js" ***!
  \******************************************************/
/***/ ((module) => {

module.exports = require("@newcoin-foundation/newcoin.pool-js");

/***/ }),

/***/ "@newcoin-foundation/newcoin.pools-js/":
/*!********************************************************!*\
  !*** external "@newcoin-foundation/newcoin.pools-js/" ***!
  \********************************************************/
/***/ ((module) => {

module.exports = require("@newcoin-foundation/newcoin.pools-js/");

/***/ }),

/***/ "atomicassets":
/*!*******************************!*\
  !*** external "atomicassets" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("atomicassets");

/***/ }),

/***/ "cross-fetch":
/*!******************************!*\
  !*** external "cross-fetch" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("cross-fetch");

/***/ }),

/***/ "eosjs":
/*!************************!*\
  !*** external "eosjs" ***!
  \************************/
/***/ ((module) => {

module.exports = require("eosjs");

/***/ }),

/***/ "eosjs-ecc-priveos":
/*!************************************!*\
  !*** external "eosjs-ecc-priveos" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("eosjs-ecc-priveos");

/***/ }),

/***/ "eosjs/dist/eosjs-jssig":
/*!*****************************************!*\
  !*** external "eosjs/dist/eosjs-jssig" ***!
  \*****************************************/
/***/ ((module) => {

module.exports = require("eosjs/dist/eosjs-jssig");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node-fetch");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	module.exports.NCO_BlockchainAPI = __webpack_exports__.NCO_BlockchainAPI;
/******/ 	
/******/ })()
;